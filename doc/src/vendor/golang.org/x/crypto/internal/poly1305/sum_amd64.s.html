<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Source: sum_amd64.s in package vendor/golang.org/x/crypto/internal/poly1305</title>
<link href="../../../../../../../css/auto-v0.7.6.css" rel="stylesheet">
<script src="../../../../../../../jvs/golds-v0.7.6.js"></script>
<body onload="onPageLoad()"><div>

<pre id="header"><code><span class="title">Source File</span>
	sum_amd64.s

<span class="title">Belonging Package</span>
	<a href="../../../../../../../pkg/vendor/golang.org/x/crypto/internal/poly1305.html">vendor/golang.org/x/crypto/internal/poly1305</a>
</code></pre>

<pre class="line-numbers">
<span class="codeline" id="line-1"><code>// Code generated by command: go run sum_amd64_asm.go -out ../sum_amd64.s -pkg poly1305. DO NOT EDIT.</code></span>
<span class="codeline" id="line-2"><code></code></span>
<span class="codeline" id="line-3"><code>//go:build gc &amp;&amp; !purego</code></span>
<span class="codeline" id="line-4"><code></code></span>
<span class="codeline" id="line-5"><code>// func update(state *macState, msg []byte)</code></span>
<span class="codeline" id="line-6"><code>TEXT Â·update(SB), $0-32</code></span>
<span class="codeline" id="line-7"><code>	MOVQ state+0(FP), DI</code></span>
<span class="codeline" id="line-8"><code>	MOVQ msg_base+8(FP), SI</code></span>
<span class="codeline" id="line-9"><code>	MOVQ msg_len+16(FP), R15</code></span>
<span class="codeline" id="line-10"><code>	MOVQ (DI), R8</code></span>
<span class="codeline" id="line-11"><code>	MOVQ 8(DI), R9</code></span>
<span class="codeline" id="line-12"><code>	MOVQ 16(DI), R10</code></span>
<span class="codeline" id="line-13"><code>	MOVQ 24(DI), R11</code></span>
<span class="codeline" id="line-14"><code>	MOVQ 32(DI), R12</code></span>
<span class="codeline" id="line-15"><code>	CMPQ R15, $0x10</code></span>
<span class="codeline" id="line-16"><code>	JB   bytes_between_0_and_15</code></span>
<span class="codeline" id="line-17"><code></code></span>
<span class="codeline" id="line-18"><code>loop:</code></span>
<span class="codeline" id="line-19"><code>	ADDQ (SI), R8</code></span>
<span class="codeline" id="line-20"><code>	ADCQ 8(SI), R9</code></span>
<span class="codeline" id="line-21"><code>	ADCQ $0x01, R10</code></span>
<span class="codeline" id="line-22"><code>	LEAQ 16(SI), SI</code></span>
<span class="codeline" id="line-23"><code></code></span>
<span class="codeline" id="line-24"><code>multiply:</code></span>
<span class="codeline" id="line-25"><code>	MOVQ  R11, AX</code></span>
<span class="codeline" id="line-26"><code>	MULQ  R8</code></span>
<span class="codeline" id="line-27"><code>	MOVQ  AX, BX</code></span>
<span class="codeline" id="line-28"><code>	MOVQ  DX, CX</code></span>
<span class="codeline" id="line-29"><code>	MOVQ  R11, AX</code></span>
<span class="codeline" id="line-30"><code>	MULQ  R9</code></span>
<span class="codeline" id="line-31"><code>	ADDQ  AX, CX</code></span>
<span class="codeline" id="line-32"><code>	ADCQ  $0x00, DX</code></span>
<span class="codeline" id="line-33"><code>	MOVQ  R11, R13</code></span>
<span class="codeline" id="line-34"><code>	IMULQ R10, R13</code></span>
<span class="codeline" id="line-35"><code>	ADDQ  DX, R13</code></span>
<span class="codeline" id="line-36"><code>	MOVQ  R12, AX</code></span>
<span class="codeline" id="line-37"><code>	MULQ  R8</code></span>
<span class="codeline" id="line-38"><code>	ADDQ  AX, CX</code></span>
<span class="codeline" id="line-39"><code>	ADCQ  $0x00, DX</code></span>
<span class="codeline" id="line-40"><code>	MOVQ  DX, R8</code></span>
<span class="codeline" id="line-41"><code>	MOVQ  R12, R14</code></span>
<span class="codeline" id="line-42"><code>	IMULQ R10, R14</code></span>
<span class="codeline" id="line-43"><code>	MOVQ  R12, AX</code></span>
<span class="codeline" id="line-44"><code>	MULQ  R9</code></span>
<span class="codeline" id="line-45"><code>	ADDQ  AX, R13</code></span>
<span class="codeline" id="line-46"><code>	ADCQ  DX, R14</code></span>
<span class="codeline" id="line-47"><code>	ADDQ  R8, R13</code></span>
<span class="codeline" id="line-48"><code>	ADCQ  $0x00, R14</code></span>
<span class="codeline" id="line-49"><code>	MOVQ  BX, R8</code></span>
<span class="codeline" id="line-50"><code>	MOVQ  CX, R9</code></span>
<span class="codeline" id="line-51"><code>	MOVQ  R13, R10</code></span>
<span class="codeline" id="line-52"><code>	ANDQ  $0x03, R10</code></span>
<span class="codeline" id="line-53"><code>	MOVQ  R13, BX</code></span>
<span class="codeline" id="line-54"><code>	ANDQ  $-4, BX</code></span>
<span class="codeline" id="line-55"><code>	ADDQ  BX, R8</code></span>
<span class="codeline" id="line-56"><code>	ADCQ  R14, R9</code></span>
<span class="codeline" id="line-57"><code>	ADCQ  $0x00, R10</code></span>
<span class="codeline" id="line-58"><code>	SHRQ  $0x02, R14, R13</code></span>
<span class="codeline" id="line-59"><code>	SHRQ  $0x02, R14</code></span>
<span class="codeline" id="line-60"><code>	ADDQ  R13, R8</code></span>
<span class="codeline" id="line-61"><code>	ADCQ  R14, R9</code></span>
<span class="codeline" id="line-62"><code>	ADCQ  $0x00, R10</code></span>
<span class="codeline" id="line-63"><code>	SUBQ  $0x10, R15</code></span>
<span class="codeline" id="line-64"><code>	CMPQ  R15, $0x10</code></span>
<span class="codeline" id="line-65"><code>	JAE   loop</code></span>
<span class="codeline" id="line-66"><code></code></span>
<span class="codeline" id="line-67"><code>bytes_between_0_and_15:</code></span>
<span class="codeline" id="line-68"><code>	TESTQ R15, R15</code></span>
<span class="codeline" id="line-69"><code>	JZ    done</code></span>
<span class="codeline" id="line-70"><code>	MOVQ  $0x00000001, BX</code></span>
<span class="codeline" id="line-71"><code>	XORQ  CX, CX</code></span>
<span class="codeline" id="line-72"><code>	XORQ  R13, R13</code></span>
<span class="codeline" id="line-73"><code>	ADDQ  R15, SI</code></span>
<span class="codeline" id="line-74"><code></code></span>
<span class="codeline" id="line-75"><code>flush_buffer:</code></span>
<span class="codeline" id="line-76"><code>	SHLQ $0x08, BX, CX</code></span>
<span class="codeline" id="line-77"><code>	SHLQ $0x08, BX</code></span>
<span class="codeline" id="line-78"><code>	MOVB -1(SI), R13</code></span>
<span class="codeline" id="line-79"><code>	XORQ R13, BX</code></span>
<span class="codeline" id="line-80"><code>	DECQ SI</code></span>
<span class="codeline" id="line-81"><code>	DECQ R15</code></span>
<span class="codeline" id="line-82"><code>	JNZ  flush_buffer</code></span>
<span class="codeline" id="line-83"><code>	ADDQ BX, R8</code></span>
<span class="codeline" id="line-84"><code>	ADCQ CX, R9</code></span>
<span class="codeline" id="line-85"><code>	ADCQ $0x00, R10</code></span>
<span class="codeline" id="line-86"><code>	MOVQ $0x00000010, R15</code></span>
<span class="codeline" id="line-87"><code>	JMP  multiply</code></span>
<span class="codeline" id="line-88"><code></code></span>
<span class="codeline" id="line-89"><code>done:</code></span>
<span class="codeline" id="line-90"><code>	MOVQ R8, (DI)</code></span>
<span class="codeline" id="line-91"><code>	MOVQ R9, 8(DI)</code></span>
<span class="codeline" id="line-92"><code>	MOVQ R10, 16(DI)</code></span>
<span class="codeline" id="line-93"><code>	RET</code></span>
</pre><pre id="footer">
The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.7.6</i>. (GOOS=linux GOARCH=amd64)</pre>