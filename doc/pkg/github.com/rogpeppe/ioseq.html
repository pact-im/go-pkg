<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: github.com/rogpeppe/ioseq</title>
<link href="../../../css/auto-v0.7.6.css" rel="stylesheet">
<script src="../../../jvs/golds-v0.7.6.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>ioseq</b></span>

<span class="title">Import Path</span>
	<a href="../../../index.html#pkg-github.com/rogpeppe/ioseq">github.com/rogpeppe/ioseq</a><i> (on <a href="https://pkg.go.dev/github.com/rogpeppe/ioseq" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../../dep/github.com/rogpeppe/ioseq.html">4 packages</a>, and imported by 0 packages

<div id="files"><span class="title">Involved Source Files</span>

	<span class="nodocs">    <a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html">seq.go</a></span></div>
<div id="examples"><span class="title">Code Examples</span>

	<input type='checkbox' class="fold" id="example-0-fold-content"><label for="example-0-fold-content">PipeSeqThrough</label><span id='example-0-fold-content-items' class="fold-items">
		package main
		
		import (
			"compress/gzip"
			"fmt"
		
			"github.com/rogpeppe/ioseq"
		)
		
		func main() {
			zeros := func(yield func([]byte, error) bool) {
				buf := make([]byte, 8192)
				for i := 0; i &lt; 1000; i++ {
					if !yield(buf, nil) {
						return
					}
				}
			}
			n := 0
			for data, err := range ioseq.PipeSeqThrough(zeros, gzip.NewWriter) {
				if err != nil {
					panic(err)
				}
				n += len(data)
			}
			fmt.Println(n)
		}
</span>
	<input type='checkbox' class="fold" id="example-1-fold-content"><label for="example-1-fold-content">ReaderFromSeq</label><span id='example-1-fold-content-items' class="fold-items">
		package main
		
		import (
			"encoding/base64"
			"fmt"
			"io"
			"os"
		
			"github.com/rogpeppe/ioseq"
		)
		
		func main() {
			// The base64.NewEncoder API returns a io.Writer,
			// making it inconvenient to use on APIs that require a Reader.
			// Demonstrate how we'd use ReaderFromSeq to work around
			// that limitation without using io.Pipe.
			seq := func(yield func([]byte, error) bool) {
				w := base64.NewEncoder(base64.StdEncoding, ioseq.SeqWriter(yield, nil))
				defer w.Close()
				fmt.Fprintf(w, "hello, world\n")
			}
			r := ioseq.ReaderFromSeq(seq)
			defer r.Close()
			io.Copy(os.Stdout, r)
			r.Close()
		
		}
</span>
</div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 4, in which 1 is exported)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort exporteds by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-Seq" data-popularity="0">	<input type='checkbox' class="fold" id="Seq-fold-content"><label for="Seq-fold-content"> <a href="../../../use/github.com/rogpeppe/ioseq..Seq.html">type</a> <a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-28">Seq</a> = <i>(func)</i></label><span id='Seq-fold-content-docs' class="fold-docs">
<span class="md-text">		Seq represents a sequence of byte slices. It's somewhat equivalent to
		[Reader], although simpler in some respects.
		See [SeqFromReader] and [ReaderFromSeq] for a way to convert
		between [Seq] and [Reader].
		
		Each element in the sequence must have either a non-nil byte slice or
		a non-nil error; a producer should never produce either (nil, nil) or
		a non-nil slice and a non-nil error.
		
		The sequence always ends at the first error: if there are temporary
		errors, it's up to the producer to deal with them.
		
		The code ranging over the sequence must not use the slice outside of
		the loop or across iterations; that is, the receiver owns a slice
		until that particular iteration ends.
		
		Callers must not mutate the slice. [TODO perhaps it might be OK to
		allow callers to mutate, but not append to, the slice].</span>

</span></div></div><div>	<input type='checkbox' class="showhide" id="unexported-typenames-showhide"><i><label for="unexported-typenames-showhide" class="show-inline">/* 3 unexporteds ... */</label><label for="unexported-typenames-showhide" class="hide-inline">/* 3 unexporteds: */</label></i><div class="anchor type-res hidden" id="name-iterReader" data-popularity="350">	<input type='checkbox' class="fold" id="iterReader-fold-content"><label for="iterReader-fold-content"> <a href="../../../use/github.com/rogpeppe/ioseq..iterReader^0bc81.html">type</a> <a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-90">iterReader</a> <i>(struct)</i></label><span id='iterReader-fold-content-docs' class="fold-docs">

		<input type='checkbox' class="fold" id="iterReader-fold-fields"><label for="iterReader-fold-fields">Fields (<i>total 5, none are exported</i>)</label><span id='iterReader-fold-fields-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="iterReader-showhide-fields"><i><label for="iterReader-showhide-fields" class="show-inline">/* 5 unexporteds ... */</label><label for="iterReader-showhide-fields" class="hide-inline">/* 5 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-94">close</a> <i>func()</i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-96">data</a> <i>[]<a href="../../builtin.html#name-byte">byte</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-95">err</a> <i><a href="../../builtin.html#name-error">error</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-93">next</a> <i>func() ([]<a href="../../builtin.html#name-byte">byte</a>, <a href="../../builtin.html#name-error">error</a>, <a href="../../builtin.html#name-bool">bool</a>)</i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-91">seq</a> <i><a href="#name-Seq">Seq</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="iterReader-fold-methods"><label for="iterReader-fold-methods">Methods (<i>total 3, all are exported</i>)</label><span id='iterReader-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">(*iterReader) <a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-136">Close</a>() <a href="../../builtin.html#name-error">error</a></span></span><span>
			<span class="nodocs">(*iterReader) <a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-112">Read</a>(buf []<a href="../../builtin.html#name-byte">byte</a>) (<a href="../../builtin.html#name-int">int</a>, <a href="../../builtin.html#name-error">error</a>)</span></span><span>
			<input type='checkbox' class="fold" id="iterReader-fold-method-WriteTo"><label for="iterReader-fold-method-WriteTo">(*iterReader) <a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-100">WriteTo</a>(w <a href="../../io.html">io</a>.<a href="../../io.html#name-Writer">Writer</a>) (<a href="../../builtin.html#name-int64">int64</a>, <a href="../../builtin.html#name-error">error</a>)</label><span id='iterReader-fold-method-WriteTo-docs' class="fold-docs">
<span class="md-text">				WriteTo implements [WriterTo].</span>
</span></span></span>
		<input type='checkbox' class="fold" id="iterReader-fold-impls"><label for="iterReader-fold-impls">Implements (<i>at least 4, all are exported</i>)</label><span id='iterReader-fold-impls-items' class="fold-items"><span>
			*iterReader : io.<a href="../../io.html#name-Closer">Closer</a></span><span>
			*iterReader : io.<a href="../../io.html#name-ReadCloser">ReadCloser</a></span><span>
			*iterReader : io.<a href="../../io.html#name-Reader">Reader</a></span><span>
			*iterReader : io.<a href="../../io.html#name-WriterTo">WriterTo</a></span></span>

</span></div><div class="anchor type-res hidden" id="name-seqWriter" data-popularity="200">	<input type='checkbox' class="fold" id="seqWriter-fold-content"><label for="seqWriter-fold-content"> <a href="../../../use/github.com/rogpeppe/ioseq..seqWriter^22d4e.html">type</a> <a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-192">seqWriter</a> <i>(struct)</i></label><span id='seqWriter-fold-content-docs' class="fold-docs">

		<input type='checkbox' class="fold" id="seqWriter-fold-fields"><label for="seqWriter-fold-fields">Fields (<i>total 2, neither is exported</i>)</label><span id='seqWriter-fold-fields-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="seqWriter-showhide-fields"><i><label for="seqWriter-showhide-fields" class="show-inline">/* 2 unexporteds ... */</label><label for="seqWriter-showhide-fields" class="hide-inline">/* 2 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-194">active</a> <i>*<a href="../../builtin.html#name-bool">bool</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-193">yield</a> <i>func([]<a href="../../builtin.html#name-byte">byte</a>, <a href="../../builtin.html#name-error">error</a>) <a href="../../builtin.html#name-bool">bool</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="seqWriter-fold-methods"><label for="seqWriter-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='seqWriter-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">( seqWriter) <a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-199">Write</a>(buf []<a href="../../builtin.html#name-byte">byte</a>) (<a href="../../builtin.html#name-int">int</a>, <a href="../../builtin.html#name-error">error</a>)</span></span></span>
		<input type='checkbox' class="fold" id="seqWriter-fold-impls"><label for="seqWriter-fold-impls">Implements (<i>at least 3, in which 2 are exported</i>)</label><span id='seqWriter-fold-impls-items' class="fold-items"><span>
			 seqWriter : internal/bisect.<a href="../../internal/bisect.html#name-Writer">Writer</a></span><span>
			 seqWriter : io.<a href="../../io.html#name-Writer">Writer</a></span>
			<input type='checkbox' checked class="showhide" id="seqWriter-showhide-impls"><i><label for="seqWriter-showhide-impls" class="show-inline">/* at least one unexported ... */</label><label for="seqWriter-showhide-impls" class="hide-inline">/* at least one unexported: */</label></i><span class="hidden"><i>
			 seqWriter : crypto/tls.<a href="../../crypto/tls.html#name-transcriptHash">transcriptHash</a></i></span></span>

</span></div><div class="anchor type-res hidden" id="name-writerFunc" data-popularity="200">	<input type='checkbox' class="fold" id="writerFunc-fold-content"><label for="writerFunc-fold-content"> <a href="../../../use/github.com/rogpeppe/ioseq..writerFunc^49f17.html">type</a> <a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-76">writerFunc</a> <i>(func)</i></label><span id='writerFunc-fold-content-docs' class="fold-docs">

		<input type='checkbox' class="fold" id="writerFunc-fold-methods"><label for="writerFunc-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='writerFunc-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">( writerFunc) <a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-78">Write</a>(buf []<a href="../../builtin.html#name-byte">byte</a>) (<a href="../../builtin.html#name-int">int</a>, <a href="../../builtin.html#name-error">error</a>)</span></span></span>
		<input type='checkbox' class="fold" id="writerFunc-fold-impls"><label for="writerFunc-fold-impls">Implements (<i>at least 3, in which 2 are exported</i>)</label><span id='writerFunc-fold-impls-items' class="fold-items"><span>
			 writerFunc : internal/bisect.<a href="../../internal/bisect.html#name-Writer">Writer</a></span><span>
			 writerFunc : io.<a href="../../io.html#name-Writer">Writer</a></span>
			<input type='checkbox' checked class="showhide" id="writerFunc-showhide-impls"><i><label for="writerFunc-showhide-impls" class="show-inline">/* at least one unexported ... */</label><label for="writerFunc-showhide-impls" class="hide-inline">/* at least one unexported: */</label></i><span class="hidden"><i>
			 writerFunc : crypto/tls.<a href="../../crypto/tls.html#name-transcriptHash">transcriptHash</a></i></span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (total 7, all are exported)</i></span></span>

<div class="anchor value-res" id="name-CopySeq">	<input type='checkbox' class="fold" id="CopySeq-fold-content"><label for="CopySeq-fold-content"> <a href="../../../use/github.com/rogpeppe/ioseq..CopySeq.html">func</a> <a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-150">CopySeq</a>(w <a href="../../io.html">io</a>.<a href="../../io.html#name-Writer">Writer</a>, r <a href="#name-Seq">Seq</a>) (<a href="../../builtin.html#name-int64">int64</a>, <a href="../../builtin.html#name-error">error</a>)</label><span id='CopySeq-fold-content-docs' class="fold-docs">
<span class="md-text">		CopySeq is like [io.Copy] but reads over r writing
		all the data to w. It returns the total number of bytes
		read.</span>

</span></div><div class="anchor value-res" id="name-PipeSeqThrough">	<input type='checkbox' class="fold" id="PipeSeqThrough-fold-content"><label for="PipeSeqThrough-fold-content"> <a href="../../../use/github.com/rogpeppe/ioseq..PipeSeqThrough.html">func</a> <a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-216">PipeSeqThrough</a>[W](seq <a href="#name-Seq">Seq</a>, f func(w <a href="../../io.html">io</a>.<a href="../../io.html#name-Writer">Writer</a>) W) <a href="#name-Seq">Seq</a></label><span id='PipeSeqThrough-fold-content-docs' class="fold-docs">

		Type Parameters:
			W: <a href="../../io.html">io</a>.<a href="../../io.html#name-WriteCloser">WriteCloser</a>

<span class="md-text">		PipeSeqThrough returns a Seq that iterates over the data written
		by the function f to its argument Writer. The Writer implementation
		that it returns will be written with the data read from seq.
		
		In other words, data read from seq will be "piped through" f,
		resulting in a new Seq.</span>

</span></div><div class="anchor value-res" id="name-PipeThrough">	<input type='checkbox' class="fold" id="PipeThrough-fold-content"><label for="PipeThrough-fold-content"> <a href="../../../use/github.com/rogpeppe/ioseq..PipeThrough.html">func</a> <a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-238">PipeThrough</a>[W](r <a href="../../io.html">io</a>.<a href="../../io.html#name-Reader">Reader</a>, f func(<a href="../../io.html">io</a>.<a href="../../io.html#name-Writer">Writer</a>) W, bufSize <a href="../../builtin.html#name-int">int</a>) <a href="../../io.html">io</a>.<a href="../../io.html#name-ReadCloser">ReadCloser</a></label><span id='PipeThrough-fold-content-docs' class="fold-docs">

		Type Parameters:
			W: <a href="../../io.html">io</a>.<a href="../../io.html#name-WriteCloser">WriteCloser</a>

<span class="md-text">		PipeThrough calls f; all data written by f to its argument writer
		will be made available on the returned ReadCloser; all data read from
		f will be written to the writer implementation returned by f.
		
		In other words, it returns a reader that "pipes" the content from r
		through f.</span>

</span></div><div class="anchor value-res" id="name-ReaderFromSeq">	<input type='checkbox' class="fold" id="ReaderFromSeq-fold-content"><label for="ReaderFromSeq-fold-content"> <a href="../../../use/github.com/rogpeppe/ioseq..ReaderFromSeq.html">func</a> <a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-84">ReaderFromSeq</a>(seq <a href="#name-Seq">Seq</a>) <a href="../../io.html">io</a>.<a href="../../io.html#name-ReadCloser">ReadCloser</a></label><span id='ReaderFromSeq-fold-content-docs' class="fold-docs">
<span class="md-text">		ReaderFromSeq converts an iterator into an io.ReadCloser.
		Close must be called after the caller is done with the reader.</span>

</span></div><div class="anchor value-res" id="name-ReaderWithContent">	<input type='checkbox' class="fold" id="ReaderWithContent-fold-content"><label for="ReaderWithContent-fold-content"> <a href="../../../use/github.com/rogpeppe/ioseq..ReaderWithContent.html">func</a> <a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-247">ReaderWithContent</a>(generate func(w <a href="../../io.html">io</a>.<a href="../../io.html#name-Writer">Writer</a>) <a href="../../builtin.html#name-error">error</a>) <a href="../../io.html">io</a>.<a href="../../io.html#name-ReadCloser">ReadCloser</a></label><span id='ReaderWithContent-fold-content-docs' class="fold-docs">
<span class="md-text">		ReaderWithContent returns a [Reader] that calls the given function to generate the
		data to be read. If the function returns an error, that error will
		be returned from the reader.</span>

</span></div><div class="anchor value-res" id="name-SeqFromReader">	<input type='checkbox' class="fold" id="SeqFromReader-fold-content"><label for="SeqFromReader-fold-content"> <a href="../../../use/github.com/rogpeppe/ioseq..SeqFromReader.html">func</a> <a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-33">SeqFromReader</a>(r <a href="../../io.html">io</a>.<a href="../../io.html#name-Reader">Reader</a>, bufSize <a href="../../builtin.html#name-int">int</a>) <a href="#name-Seq">Seq</a></label><span id='SeqFromReader-fold-content-docs' class="fold-docs">
<span class="md-text">		SeqFromReader returns a [Seq] that reads from r, allocating one buffer
		of the given size to do so unless r implements [WriterTo], in which
		case no buffer is needed.</span>

</span></div><div class="anchor value-res" id="name-SeqWriter">	<input type='checkbox' class="fold" id="SeqWriter-fold-content"><label for="SeqWriter-fold-content"> <a href="../../../use/github.com/rogpeppe/ioseq..SeqWriter.html">func</a> <a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-181">SeqWriter</a>(yield func([]<a href="../../builtin.html#name-byte">byte</a>, <a href="../../builtin.html#name-error">error</a>) <a href="../../builtin.html#name-bool">bool</a>, active *<a href="../../builtin.html#name-bool">bool</a>) <a href="../../io.html">io</a>.<a href="../../io.html#name-Writer">Writer</a></label><span id='SeqWriter-fold-content-docs' class="fold-docs">
<span class="md-text">		SeqWriter returns a [Writer] that operates on the yield
		function passed into a [Seq] iterator. Writes will succeed until
		the iteration is terminated, upon which Write will return
		[ErrSequenceTerminated].
		
		The returned Writer should not be used outside the scope
		of the iterator function, following the same rules as any yield
		function.
		
		If active is non-nil, it reflects the "active" status of the generator
		and its value should be (but does not have to be) true initially.
		yield will not be called when *active is false.
		If yield returns false, *active will be set to false.
		
		The caller can use the value of *active to find out whether
		the iterator is still active.</span>

</span></div></div>
<div id="exported-variables"><span class="title">Package-Level Variables<span class="title-stat"><i> (only one, which is exported)</i></span></span>

<div class="anchor value-res" id="name-ErrSequenceTerminated">	<span class="nodocs">  <a href="../../../use/github.com/rogpeppe/ioseq..ErrSequenceTerminated.html">var</a> <a href="../../../src/github.com/rogpeppe/ioseq/seq.go.html#line-197">ErrSequenceTerminated</a> <a href="../../builtin.html#name-error">error</a></span></div></div></code></pre><pre id="footer">
The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.7.6</i>. (GOOS=linux GOARCH=amd64)</pre>