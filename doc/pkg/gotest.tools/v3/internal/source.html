<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: gotest.tools/v3/internal/source</title>
<link href="../../../../css/auto-v0.7.6.css" rel="stylesheet">
<script src="../../../../jvs/golds-v0.7.6.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>source</b></span>

<span class="title">Import Path</span>
	<a href="../../../../index.html#pkg-gotest.tools/v3/internal/source">gotest.tools/v3/internal/source</a><i> (on <a href="https://pkg.go.dev/gotest.tools/v3/internal/source" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../../../dep/gotest.tools/v3/internal/source.html">12 packages</a>, and imported by <a href="../../../../dep/gotest.tools/v3/internal/source.html#imported-by">2 packages</a>

<div id="files"><span class="title">Involved Source Files</span>

	<span class="nodocs">    <a href="../../../../src/gotest.tools/v3/internal/source/defers.go.html">defers.go</a></span>
	<input type='checkbox' checked class="fold" id="file-1-fold-content"><label for="file-1-fold-content">  <a href="../../../../src/gotest.tools/v3/internal/source/source.go.html#doc">d</a> <a href="../../../../src/gotest.tools/v3/internal/source/source.go.html">source.go</a></label><span id='file-1-fold-content-items' class="fold-items">
<span class="md-text">		Package source provides utilities for handling source-code.</span>
</span>
	<span class="nodocs">    <a href="../../../../src/gotest.tools/v3/internal/source/update.go.html">update.go</a></span>
	<span class="nodocs">    <a href="../../../../src/gotest.tools/v3/internal/source/version.go.html">version.go</a></span></div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 2, neither is exported)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort exporteds by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div></div><div>	<input type='checkbox' class="showhide" id="unexported-typenames-showhide"><i><label for="unexported-typenames-showhide" class="show-inline">/* 2 unexporteds ... */</label><label for="unexported-typenames-showhide" class="hide-inline">/* 2 unexporteds: */</label></i><div class="anchor type-res hidden" id="name-callExprVisitor" data-popularity="100">	<input type='checkbox' class="fold" id="callExprVisitor-fold-content"><label for="callExprVisitor-fold-content"> <a href="../../../../use/gotest.tools/v3/internal/source..callExprVisitor^59a71.html">type</a> <a href="../../../../src/gotest.tools/v3/internal/source/source.go.html#line-99">callExprVisitor</a> <i>(struct)</i></label><span id='callExprVisitor-fold-content-docs' class="fold-docs">

		<input type='checkbox' class="fold" id="callExprVisitor-fold-fields"><label for="callExprVisitor-fold-fields">Fields (<i>only one, which is unexported</i>)</label><span id='callExprVisitor-fold-fields-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="callExprVisitor-showhide-fields"><i><label for="callExprVisitor-showhide-fields" class="show-inline">/* one unexported ... */</label><label for="callExprVisitor-showhide-fields" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../src/gotest.tools/v3/internal/source/source.go.html#line-100">expr</a> <i>*<a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-CallExpr">CallExpr</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="callExprVisitor-fold-methods"><label for="callExprVisitor-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='callExprVisitor-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">(*callExprVisitor) <a href="../../../../src/gotest.tools/v3/internal/source/source.go.html#line-103">Visit</a>(node <a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-Node">Node</a>) <a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-Visitor">Visitor</a></span></span></span>
		<input type='checkbox' class="fold" id="callExprVisitor-fold-impls"><label for="callExprVisitor-fold-impls">Implements (<i>at least one exported</i>)</label><span id='callExprVisitor-fold-impls-items' class="fold-items"><span>
			*callExprVisitor : go/ast.<a href="../../../go/ast.html#name-Visitor">Visitor</a></span></span>

</span></div><div class="anchor type-res hidden" id="name-debugFormatNode" data-popularity="450">	<input type='checkbox' class="fold" id="debugFormatNode-fold-content"><label for="debugFormatNode-fold-content"> <a href="../../../../use/gotest.tools/v3/internal/source..debugFormatNode^b5040.html">type</a> <a href="../../../../src/gotest.tools/v3/internal/source/source.go.html#line-135">debugFormatNode</a> <i>(struct)</i></label><span id='debugFormatNode-fold-content-docs' class="fold-docs">

		<input type='checkbox' class="fold" id="debugFormatNode-fold-fields"><label for="debugFormatNode-fold-fields">Fields (<i>only one, which is exported</i>)</label><span id='debugFormatNode-fold-fields-items' class="fold-items"><span>
			<span class="nodocs"><a href="../../../../src/gotest.tools/v3/internal/source/source.go.html#line-136">Node</a> <i><a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-Node">Node</a></i></span></span></span>
		<input type='checkbox' class="fold" id="debugFormatNode-fold-methods"><label for="debugFormatNode-fold-methods">Methods (<i>total 3, all are exported</i>)</label><span id='debugFormatNode-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="debugFormatNode-fold-method-End"><label for="debugFormatNode-fold-method-End">( debugFormatNode) <a href="../../../../src/go/ast/ast.go.html#line-34">End</a>() <a href="../../../go/token.html">token</a>.<a href="../../../go/token.html#name-Pos">Pos</a></label><span id='debugFormatNode-fold-method-End-docs' class="fold-docs">
<span class="md-text">				// position of first character immediately after the node</span>
</span></span><span>
			<input type='checkbox' class="fold" id="debugFormatNode-fold-method-Pos"><label for="debugFormatNode-fold-method-Pos">( debugFormatNode) <a href="../../../../src/go/ast/ast.go.html#line-33">Pos</a>() <a href="../../../go/token.html">token</a>.<a href="../../../go/token.html#name-Pos">Pos</a></label><span id='debugFormatNode-fold-method-Pos-docs' class="fold-docs">
<span class="md-text">				// position of first character belonging to the node</span>
</span></span><span>
			<span class="nodocs">( debugFormatNode) <a href="../../../../src/gotest.tools/v3/internal/source/source.go.html#line-139">String</a>() <a href="../../../builtin.html#name-string">string</a></span></span></span>
		<input type='checkbox' class="fold" id="debugFormatNode-fold-impls"><label for="debugFormatNode-fold-impls">Implements (<i>at least 6, in which 3 are exported</i>)</label><span id='debugFormatNode-fold-impls-items' class="fold-items"><span>
			 debugFormatNode : expvar.<a href="../../../expvar.html#name-Var">Var</a></span><span>
			 debugFormatNode : fmt.<a href="../../../fmt.html#name-Stringer">Stringer</a></span><span>
			 debugFormatNode : go/ast.<a href="../../../go/ast.html#name-Node">Node</a></span>
			<input type='checkbox' checked class="showhide" id="debugFormatNode-showhide-impls"><i><label for="debugFormatNode-showhide-impls" class="show-inline">/* 3+ unexporteds ... */</label><label for="debugFormatNode-showhide-impls" class="hide-inline">/* 3+ unexporteds: */</label></i><span class="hidden"><i>
			 debugFormatNode : context.<a href="../../../context.html#name-stringer">stringer</a></i></span><span class="hidden"><i>
			 debugFormatNode : go/types.<a href="../../../go/types.html#name-positioner">positioner</a></i></span><span class="hidden"><i>
			 debugFormatNode : runtime.<a href="../../../runtime.html#name-stringer">stringer</a></i></span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (total 15, in which 6 are exported)</i></span></span>

<div class="anchor value-res" id="name-CallExprArgs">	<input type='checkbox' class="fold" id="CallExprArgs-fold-content"><label for="CallExprArgs-fold-content"> <a href="../../../../use/gotest.tools/v3/internal/source..CallExprArgs.html">func</a> <a href="../../../../src/gotest.tools/v3/internal/source/source.go.html#line-31">CallExprArgs</a>(stackIndex <a href="../../../builtin.html#name-int">int</a>) ([]<a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-Expr">Expr</a>, <a href="../../../builtin.html#name-error">error</a>)</label><span id='CallExprArgs-fold-content-docs' class="fold-docs">
<span class="md-text">		CallExprArgs returns the ast.Expr slice for the args of an ast.CallExpr at
		the index in the call stack.</span>

</span></div><div class="anchor value-res" id="name-FormatNode">	<input type='checkbox' class="fold" id="FormatNode-fold-content"><label for="FormatNode-fold-content"> <a href="../../../../use/gotest.tools/v3/internal/source..FormatNode.html">func</a> <a href="../../../../src/gotest.tools/v3/internal/source/source.go.html#line-121">FormatNode</a>(node <a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-Node">Node</a>) (<a href="../../../builtin.html#name-string">string</a>, <a href="../../../builtin.html#name-error">error</a>)</label><span id='FormatNode-fold-content-docs' class="fold-docs">
<span class="md-text">		FormatNode using go/format.Node and return the result as a string</span>

</span></div><div class="anchor value-res" id="name-FormattedCallExprArg">	<input type='checkbox' class="fold" id="FormattedCallExprArg-fold-content"><label for="FormattedCallExprArg-fold-content"> <a href="../../../../use/gotest.tools/v3/internal/source..FormattedCallExprArg.html">func</a> <a href="../../../../src/gotest.tools/v3/internal/source/source.go.html#line-18">FormattedCallExprArg</a>(stackIndex <a href="../../../builtin.html#name-int">int</a>, argPos <a href="../../../builtin.html#name-int">int</a>) (<a href="../../../builtin.html#name-string">string</a>, <a href="../../../builtin.html#name-error">error</a>)</label><span id='FormattedCallExprArg-fold-content-docs' class="fold-docs">
<span class="md-text">		FormattedCallExprArg returns the argument from an ast.CallExpr at the
		index in the call stack. The argument is formatted using FormatNode.</span>

</span></div><div class="anchor value-res" id="name-GoVersionLessThan">	<input type='checkbox' class="fold" id="GoVersionLessThan-fold-content"><label for="GoVersionLessThan-fold-content"> <a href="../../../../use/gotest.tools/v3/internal/source..GoVersionLessThan.html">func</a> <a href="../../../../src/gotest.tools/v3/internal/source/version.go.html#line-12">GoVersionLessThan</a>(major, minor <a href="../../../builtin.html#name-int64">int64</a>) <a href="../../../builtin.html#name-bool">bool</a></label><span id='GoVersionLessThan-fold-content-docs' class="fold-docs">
<span class="md-text">		GoVersionLessThan returns true if runtime.Version() is semantically less than
		version major.minor. Returns false if a release version can not be parsed from
		runtime.Version().</span>

</span></div><div class="anchor value-res" id="name-UpdateExpectedValue">	<input type='checkbox' class="fold" id="UpdateExpectedValue-fold-content"><label for="UpdateExpectedValue-fold-content"> <a href="../../../../use/gotest.tools/v3/internal/source..UpdateExpectedValue.html">func</a> <a href="../../../../src/gotest.tools/v3/internal/source/update.go.html#line-33">UpdateExpectedValue</a>(stackIndex <a href="../../../builtin.html#name-int">int</a>, x, y interface{}) <a href="../../../builtin.html#name-error">error</a></label><span id='UpdateExpectedValue-fold-content-docs' class="fold-docs">
<span class="md-text">		UpdateExpectedValue looks for a package-level variable with a name that
		starts with expected in the arguments to the caller. If the variable is
		found, the value of the variable will be updated to value of the other
		argument to the caller.</span>

</span></div><div class="anchor value-res" id="name-UpdateVariable">	<input type='checkbox' class="fold" id="UpdateVariable-fold-content"><label for="UpdateVariable-fold-content"> <a href="../../../../use/gotest.tools/v3/internal/source..UpdateVariable.html">func</a> <a href="../../../../src/gotest.tools/v3/internal/source/update.go.html#line-79">UpdateVariable</a>(filename <a href="../../../builtin.html#name-string">string</a>, fileset *<a href="../../../go/token.html">token</a>.<a href="../../../go/token.html#name-FileSet">FileSet</a>, astFile *<a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-File">File</a>, ident *<a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-Ident">Ident</a>, value <a href="../../../builtin.html#name-string">string</a>) <a href="../../../builtin.html#name-error">error</a></label><span id='UpdateVariable-fold-content-docs' class="fold-docs">
<span class="md-text">		UpdateVariable writes to filename the contents of astFile with the value of
		the variable updated to value.</span>

</span></div>	<input type='checkbox' class="showhide" id="unexported-functions-showhide"><i><label for="unexported-functions-showhide" class="show-inline">/* 9 unexporteds ... */</label><label for="unexported-functions-showhide" class="hide-inline">/* 9 unexporteds: */</label></i><div class="anchor value-res hidden" id="name-collectDefers"><i>	<span class="nodocs"> <a href="../../../../use/gotest.tools/v3/internal/source..collectDefers^42923.html">func</a> <a href="../../../../src/gotest.tools/v3/internal/source/defers.go.html#line-41">collectDefers</a>(node <a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-Node">Node</a>) []*<a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-DeferStmt">DeferStmt</a></span></i></div><div class="anchor value-res hidden" id="name-debug"><i>	<span class="nodocs"> <a href="../../../../use/gotest.tools/v3/internal/source..debug^0b8e9.html">func</a> <a href="../../../../src/gotest.tools/v3/internal/source/source.go.html#line-129">debug</a>(format <a href="../../../builtin.html#name-string">string</a>, args ...interface{})</span></i></div><div class="anchor value-res hidden" id="name-getCallExprArgs"><i>	<span class="nodocs"> <a href="../../../../use/gotest.tools/v3/internal/source..getCallExprArgs^01f40.html">func</a> <a href="../../../../src/gotest.tools/v3/internal/source/source.go.html#line-79">getCallExprArgs</a>(fileset *<a href="../../../go/token.html">token</a>.<a href="../../../go/token.html#name-FileSet">FileSet</a>, astFile <a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-Node">Node</a>, line <a href="../../../builtin.html#name-int">int</a>) ([]<a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-Expr">Expr</a>, <a href="../../../builtin.html#name-error">error</a>)</span></i></div><div class="anchor value-res hidden" id="name-getIdentForExpectedValueArg"><i>	<span class="nodocs"> <a href="../../../../use/gotest.tools/v3/internal/source..getIdentForExpectedValueArg^65121.html">func</a> <a href="../../../../src/gotest.tools/v3/internal/source/update.go.html#line-141">getIdentForExpectedValueArg</a>(expr []<a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-Expr">Expr</a>) (<a href="../../../builtin.html#name-int">int</a>, *<a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-Ident">Ident</a>)</span></i></div><div class="anchor value-res hidden" id="name-getNodeAtLine"><i>	<span class="nodocs"> <a href="../../../../use/gotest.tools/v3/internal/source..getNodeAtLine^6eb7c.html">func</a> <a href="../../../../src/gotest.tools/v3/internal/source/source.go.html#line-51">getNodeAtLine</a>(fileset *<a href="../../../go/token.html">token</a>.<a href="../../../go/token.html#name-FileSet">FileSet</a>, astFile <a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-Node">Node</a>, lineNum <a href="../../../builtin.html#name-int">int</a>) (<a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-Node">Node</a>, <a href="../../../builtin.html#name-error">error</a>)</span></i></div><div class="anchor value-res hidden" id="name-guessDefer"><i>	<span class="nodocs"> <a href="../../../../use/gotest.tools/v3/internal/source..guessDefer^4120f.html">func</a> <a href="../../../../src/gotest.tools/v3/internal/source/defers.go.html#line-27">guessDefer</a>(node <a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-Node">Node</a>) (<a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-Node">Node</a>, <a href="../../../builtin.html#name-error">error</a>)</span></i></div><div class="anchor value-res hidden" id="name-init"><i>	<span class="nodocs"> <a href="../../../../use/gotest.tools/v3/internal/source..init^bb540.html">func</a> <a href="../../../../src/gotest.tools/v3/internal/source/update.go.html#line-21">init</a>()</span></i></div><div class="anchor value-res hidden" id="name-scanToDeferLine"><i>	<span class="nodocs"> <a href="../../../../use/gotest.tools/v3/internal/source..scanToDeferLine^6c56c.html">func</a> <a href="../../../../src/gotest.tools/v3/internal/source/defers.go.html#line-9">scanToDeferLine</a>(fileset *<a href="../../../go/token.html">token</a>.<a href="../../../go/token.html#name-FileSet">FileSet</a>, node <a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-Node">Node</a>, lineNum <a href="../../../builtin.html#name-int">int</a>) <a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-Node">Node</a></span></i></div><div class="anchor value-res hidden" id="name-scanToLine"><i>	<span class="nodocs"> <a href="../../../../use/gotest.tools/v3/internal/source..scanToLine^9d173.html">func</a> <a href="../../../../src/gotest.tools/v3/internal/source/source.go.html#line-64">scanToLine</a>(fileset *<a href="../../../go/token.html">token</a>.<a href="../../../go/token.html#name-FileSet">FileSet</a>, node <a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-Node">Node</a>, lineNum <a href="../../../builtin.html#name-int">int</a>) <a href="../../../go/ast.html">ast</a>.<a href="../../../go/ast.html#name-Node">Node</a></span></i></div></div>
<div id="exported-variables"><span class="title">Package-Level Variables<span class="title-stat"><i> (total 3, in which 2 are exported)</i></span></span>

<div class="anchor value-res" id="name-ErrNotFound">	<input type='checkbox' class="fold" id="ErrNotFound-fold-content"><label for="ErrNotFound-fold-content">  <a href="../../../../use/gotest.tools/v3/internal/source..ErrNotFound.html">var</a> <a href="../../../../src/gotest.tools/v3/internal/source/update.go.html#line-27">ErrNotFound</a> <a href="../../../builtin.html#name-error">error</a></label><span id='ErrNotFound-fold-content-docs' class="fold-docs">
<span class="md-text">		ErrNotFound indicates that UpdateExpectedValue failed to find the
		variable to update, likely because it is not a package level variable.</span>

</span></div><div class="anchor value-res" id="name-Update">	<input type='checkbox' class="fold" id="Update-fold-content"><label for="Update-fold-content">  <a href="../../../../use/gotest.tools/v3/internal/source..Update.html">var</a> <a href="../../../../src/gotest.tools/v3/internal/source/update.go.html#line-19">Update</a> <a href="../../../builtin.html#name-bool">bool</a></label><span id='Update-fold-content-docs' class="fold-docs">
<span class="md-text">		Update is set by the -update flag. It indicates the user running the tests
		would like to update any golden values.</span>

</span></div>	<input type='checkbox' class="showhide" id="unexported-variables-showhide"><i><label for="unexported-variables-showhide" class="show-inline">/* one unexported ... */</label><label for="unexported-variables-showhide" class="hide-inline">/* one unexported: */</label></i><div class="anchor value-res hidden" id="name-debugEnabled"><i>	<span class="nodocs">  <a href="../../../../use/gotest.tools/v3/internal/source..debugEnabled^8ff9e.html">var</a> <a href="../../../../src/gotest.tools/v3/internal/source/source.go.html#line-127">debugEnabled</a> <a href="../../../builtin.html#name-bool">bool</a></span></i></div></div></code></pre><pre id="footer">
The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.7.6</i>. (GOOS=linux GOARCH=amd64)</pre>