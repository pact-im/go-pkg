<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: runtime/trace</title>
<link href="../../css/auto-v0.7.6.css" rel="stylesheet">
<script src="../../jvs/golds-v0.7.6.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>trace</b></span>

<span class="title">Import Path</span>
	<a href="../../index.html#pkg-runtime/trace">runtime/trace</a><i> (on <a href="https://pkg.go.dev/runtime/trace" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../dep/runtime/trace.html">11 packages</a>, and imported by <a href="../../dep/runtime/trace.html#imported-by">2 packages</a>

<div id="files"><span class="title">Involved Source Files</span>

	<span class="nodocs">    <a href="../../src/runtime/trace/annotation.go.html">annotation.go</a></span>
	<span class="nodocs">    <a href="../../src/runtime/trace/batch.go.html">batch.go</a></span>
	<span class="nodocs">    <a href="../../src/runtime/trace/encoding.go.html">encoding.go</a></span>
	<span class="nodocs">    <a href="../../src/runtime/trace/flightrecorder.go.html">flightrecorder.go</a></span>
	<span class="nodocs">    <a href="../../src/runtime/trace/recorder.go.html">recorder.go</a></span>
	<span class="nodocs">    <a href="../../src/runtime/trace/subscribe.go.html">subscribe.go</a></span>
	<input type='checkbox' checked class="fold" id="file-6-fold-content"><label for="file-6-fold-content">  <a href="../../src/runtime/trace/trace.go.html#doc">d</a> <a href="../../src/runtime/trace/trace.go.html">trace.go</a></label><span id='file-6-fold-content-items' class="fold-items">
<span class="md-text">		Package trace contains facilities for programs to generate traces
		for the Go execution tracer.
		
		# Tracing runtime activities
		
		The execution trace captures a wide range of execution events such as
		goroutine creation/blocking/unblocking, syscall enter/exit/block,
		GC-related events, changes of heap size, processor start/stop, etc.
		When CPU profiling is active, the execution tracer makes an effort to
		include those samples as well.
		A precise nanosecond-precision timestamp and a stack trace is
		captured for most events. The generated trace can be interpreted
		using `go tool trace`.
		
		Support for tracing tests and benchmarks built with the standard
		testing package is built into `go test`. For example, the following
		command runs the test in the current directory and writes the trace
		file (trace.out).
		
			go test -trace=trace.out
		
		This runtime/trace package provides APIs to add equivalent tracing
		support to a standalone program. See the Example that demonstrates
		how to use this API to enable tracing.
		
		There is also a standard HTTP interface to trace data. Adding the
		following line will install a handler under the /debug/pprof/trace URL
		to download a live trace:
		
			import _ "net/http/pprof"
		
		See the [net/http/pprof] package for more details about all of the
		debug endpoints installed by this import.
		
		# User annotation
		
		Package trace provides user annotation APIs that can be used to
		log interesting events during execution.
		
		There are three types of user annotations: log messages, regions,
		and tasks.
		
		[Log] emits a timestamped message to the execution trace along with
		additional information such as the category of the message and
		which goroutine called [Log]. The execution tracer provides UIs to filter
		and group goroutines using the log category and the message supplied
		in [Log].
		
		A region is for logging a time interval during a goroutine's execution.
		By definition, a region starts and ends in the same goroutine.
		Regions can be nested to represent subintervals.
		For example, the following code records four regions in the execution
		trace to trace the durations of sequential steps in a cappuccino making
		operation.
		
			trace.WithRegion(ctx, "makeCappuccino", func() {
		
			   // orderID allows to identify a specific order
			   // among many cappuccino order region records.
			   trace.Log(ctx, "orderID", orderID)
		
			   trace.WithRegion(ctx, "steamMilk", steamMilk)
			   trace.WithRegion(ctx, "extractCoffee", extractCoffee)
			   trace.WithRegion(ctx, "mixMilkCoffee", mixMilkCoffee)
			})
		
		A task is a higher-level component that aids tracing of logical
		operations such as an RPC request, an HTTP request, or an
		interesting local operation which may require multiple goroutines
		working together. Since tasks can involve multiple goroutines,
		they are tracked via a [context.Context] object. [NewTask] creates
		a new task and embeds it in the returned [context.Context] object.
		Log messages and regions are attached to the task, if any, in the
		Context passed to [Log] and [WithRegion].
		
		For example, assume that we decided to froth milk, extract coffee,
		and mix milk and coffee in separate goroutines. With a task,
		the trace tool can identify the goroutines involved in a specific
		cappuccino order.
		
			ctx, task := trace.NewTask(ctx, "makeCappuccino")
			trace.Log(ctx, "orderID", orderID)
		
			milk := make(chan bool)
			espresso := make(chan bool)
		
			go func() {
			        trace.WithRegion(ctx, "steamMilk", steamMilk)
			        milk &lt;- true
			}()
			go func() {
			        trace.WithRegion(ctx, "extractCoffee", extractCoffee)
			        espresso &lt;- true
			}()
			go func() {
			        defer task.End() // When assemble is done, the order is complete.
			        &lt;-espresso
			        &lt;-milk
			        trace.WithRegion(ctx, "mixMilkCoffee", mixMilkCoffee)
			}()
		
		The trace tool computes the latency of a task by measuring the
		time between the task creation and the task end and provides
		latency distributions for each task type found in the trace.</span></span></div>
<div id="examples"><span class="title">Code Examples</span>

	<input type='checkbox' class="fold" id="example-0-fold-content"><label for="example-0-fold-content"></label><span id='example-0-fold-content-items' class="fold-items">
		package main
		
		import (
			"fmt"
			"log"
			"os"
			"runtime/trace"
		)
		
		// Example demonstrates the use of the trace package to trace
		// the execution of a Go program. The trace output will be
		// written to the file trace.out
		func main() {
			f, err := os.Create("trace.out")
			if err != nil {
				log.Fatalf("failed to create trace output file: %v", err)
			}
			defer func() {
				if err := f.Close(); err != nil {
					log.Fatalf("failed to close trace file: %v", err)
				}
			}()
		
			if err := trace.Start(f); err != nil {
				log.Fatalf("failed to start trace: %v", err)
			}
			defer trace.Stop()
		
			// your program here
			RunMyProgram()
		}
		
		func RunMyProgram() {
			fmt.Printf("this function will be traced")
		}
</span>
</div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 13, in which 4 are exported)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort exporteds by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-FlightRecorder" data-popularity="325">	<input type='checkbox' class="fold" id="FlightRecorder-fold-content"><label for="FlightRecorder-fold-content"> <a href="../../use/runtime/trace..FlightRecorder.html">type</a> <a href="../../src/runtime/trace/flightrecorder.go.html#line-25">FlightRecorder</a> <i>(struct)</i></label><span id='FlightRecorder-fold-content-docs' class="fold-docs">
<span class="md-text">		FlightRecorder represents a single consumer of a Go execution
		trace.
		It tracks a moving window over the execution trace produced by
		the runtime, always containing the most recent trace data.
		
		At most one flight recorder may be active at any given time,
		though flight recording is allowed to be concurrently active
		with a trace consumer using trace.Start.
		This restriction of only a single flight recorder may be removed
		in the future.</span>

		<input type='checkbox' class="fold" id="FlightRecorder-fold-fields"><label for="FlightRecorder-fold-fields">Fields (<i>total 12, none are exported</i>)</label><span id='FlightRecorder-fold-fields-items' class="fold-items">
			<input type='checkbox' class="showhide" id="FlightRecorder-showhide-fields"><i><label for="FlightRecorder-showhide-fields" class="show-inline">/* 12 unexporteds ... */</label><label for="FlightRecorder-showhide-fields" class="hide-inline">/* 12 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/flightrecorder.go.html#line-30">active</a> <i><a href="#name-rawGeneration">rawGeneration</a></i></span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="FlightRecorder-fold-field-enabled"><label for="FlightRecorder-fold-field-enabled"><a href="../../src/runtime/trace/flightrecorder.go.html#line-39">enabled</a> <i><a href="../builtin.html#name-bool">bool</a></i></label><span id='FlightRecorder-fold-field-enabled-docs' class="fold-docs">
<span class="md-text">				// whether the flight recorder is enabled.</span>
</span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/flightrecorder.go.html#line-26">err</a> <i><a href="../builtin.html#name-error">error</a></i></span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="FlightRecorder-fold-field-freq"><label for="FlightRecorder-fold-field-freq"><a href="../../src/runtime/trace/flightrecorder.go.html#line-33">freq</a> <i><a href="#name-frequency">frequency</a></i></label><span id='FlightRecorder-fold-field-freq-docs' class="fold-docs">
<span class="md-text">				// timestamp conversion factor, from the runtime</span>
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="FlightRecorder-fold-field-header"><label for="FlightRecorder-fold-field-header"><a href="../../src/runtime/trace/flightrecorder.go.html#line-29">header</a> <i>[16]<a href="../builtin.html#name-byte">byte</a></i></label><span id='FlightRecorder-fold-field-header-docs' class="fold-docs">
<span class="md-text">				State specific to the recorder.</span>
</span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/flightrecorder.go.html#line-32">ring</a> <i>[]<a href="#name-rawGeneration">rawGeneration</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/flightrecorder.go.html#line-31">ringMu</a> <i><a href="../sync.html">sync</a>.<a href="../sync.html#name-Mutex">Mutex</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/flightrecorder.go.html#line-37">targetPeriod</a> <i><a href="../time.html">time</a>.<a href="../time.html#name-Duration">Duration</a></i></span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="FlightRecorder-fold-field-targetSize"><label for="FlightRecorder-fold-field-targetSize"><a href="../../src/runtime/trace/flightrecorder.go.html#line-36">targetSize</a> <i><a href="../builtin.html#name-uint64">uint64</a></i></label><span id='FlightRecorder-fold-field-targetSize-docs' class="fold-docs">
<span class="md-text">				Externally-set options.</span>
</span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/flightrecorder.go.html#line-44">wantDur</a> <i><a href="../time.html">time</a>.<a href="../time.html#name-Duration">Duration</a></i></span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="FlightRecorder-fold-field-wantSize"><label for="FlightRecorder-fold-field-wantSize"><a href="../../src/runtime/trace/flightrecorder.go.html#line-43">wantSize</a> <i><a href="../builtin.html#name-uint64">uint64</a></i></label><span id='FlightRecorder-fold-field-wantSize-docs' class="fold-docs">
<span class="md-text">				The values of targetSize and targetPeriod we've committed to since the last Start.</span>
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="FlightRecorder-fold-field-writing"><label for="FlightRecorder-fold-field-writing"><a href="../../src/runtime/trace/flightrecorder.go.html#line-40">writing</a> <i><a href="../sync.html">sync</a>.<a href="../sync.html#name-Mutex">Mutex</a></i></label><span id='FlightRecorder-fold-field-writing-docs' class="fold-docs">
<span class="md-text">				// protects concurrent calls to WriteTo</span>
</span></i></span></span>
		<input type='checkbox' class="fold" id="FlightRecorder-fold-methods"><label for="FlightRecorder-fold-methods">Methods (<i>total 4, all are exported</i>)</label><span id='FlightRecorder-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="FlightRecorder-fold-method-Enabled"><label for="FlightRecorder-fold-method-Enabled">(*FlightRecorder) <a href="../../src/runtime/trace/flightrecorder.go.html#line-103">Enabled</a>() <a href="../builtin.html#name-bool">bool</a></label><span id='FlightRecorder-fold-method-Enabled-docs' class="fold-docs">
<span class="md-text">				Enabled returns true if the flight recorder is active.
				Specifically, it will return true if Start did not return an error, and Stop has not yet been called.
				It is safe to call from multiple goroutines simultaneously.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="FlightRecorder-fold-method-Start"><label for="FlightRecorder-fold-method-Start">(*FlightRecorder) <a href="../../src/runtime/trace/flightrecorder.go.html#line-68">Start</a>() <a href="../builtin.html#name-error">error</a></label><span id='FlightRecorder-fold-method-Start-docs' class="fold-docs">
<span class="md-text">				Start activates the flight recorder and begins recording trace data.
				Only one call to trace.Start may be active at any given time.
				In addition, currently only one flight recorder may be active in the program.
				Returns an error if the flight recorder cannot be started or is already started.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="FlightRecorder-fold-method-Stop"><label for="FlightRecorder-fold-method-Stop">(*FlightRecorder) <a href="../../src/runtime/trace/flightrecorder.go.html#line-88">Stop</a>()</label><span id='FlightRecorder-fold-method-Stop-docs' class="fold-docs">
<span class="md-text">				Stop ends recording of trace data. It blocks until any concurrent WriteTo calls complete.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="FlightRecorder-fold-method-WriteTo"><label for="FlightRecorder-fold-method-WriteTo">(*FlightRecorder) <a href="../../src/runtime/trace/flightrecorder.go.html#line-111">WriteTo</a>(w <a href="../io.html">io</a>.<a href="../io.html#name-Writer">Writer</a>) (n <a href="../builtin.html#name-int64">int64</a>, err <a href="../builtin.html#name-error">error</a>)</label><span id='FlightRecorder-fold-method-WriteTo-docs' class="fold-docs">
<span class="md-text">				WriteTo snapshots the moving window tracked by the flight recorder.
				The snapshot is expected to contain data that is up-to-date as of when WriteTo is called,
				though this is not a hard guarantee.
				Only one goroutine may execute WriteTo at a time.
				An error is returned upon failure to write to w, if another WriteTo call is already in-progress,
				or if the flight recorder is inactive.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="FlightRecorder-fold-impls"><label for="FlightRecorder-fold-impls">Implements (<i>at least one exported</i>)</label><span id='FlightRecorder-fold-impls-items' class="fold-items"><span>
			*FlightRecorder : io.<a href="../io.html#name-WriterTo">WriterTo</a></span></span>
		<input type='checkbox' class="fold" id="FlightRecorder-fold-results"><label for="FlightRecorder-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='FlightRecorder-fold-results-items' class="fold-items"><span>
			func <a href="#name-NewFlightRecorder">NewFlightRecorder</a>(cfg <a href="#name-FlightRecorderConfig">FlightRecorderConfig</a>) *<b>FlightRecorder</b></span></span>

</span></div><div class="anchor type-res" id="name-FlightRecorderConfig" data-popularity="35">	<input type='checkbox' class="fold" id="FlightRecorderConfig-fold-content"><label for="FlightRecorderConfig-fold-content"> <a href="../../use/runtime/trace..FlightRecorderConfig.html">type</a> <a href="../../src/runtime/trace/flightrecorder.go.html#line-156">FlightRecorderConfig</a> <i>(struct)</i></label><span id='FlightRecorderConfig-fold-content-docs' class="fold-docs">

		<input type='checkbox' class="fold" id="FlightRecorderConfig-fold-fields"><label for="FlightRecorderConfig-fold-fields">Fields (<i>total 2, both are exported</i>)</label><span id='FlightRecorderConfig-fold-fields-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="FlightRecorderConfig-fold-field-MaxBytes"><label for="FlightRecorderConfig-fold-field-MaxBytes"><a href="../../src/runtime/trace/flightrecorder.go.html#line-175">MaxBytes</a> <i><a href="../builtin.html#name-uint64">uint64</a></i></label><span id='FlightRecorderConfig-fold-field-MaxBytes-docs' class="fold-docs">
<span class="md-text">				MaxBytes is an upper bound on the size of the window in bytes.
				
				This setting takes precedence over MinAge.
				However, it does not make any guarantees on the size of the data WriteTo will write,
				nor does it guarantee memory overheads will always stay below MaxBytes. Treat it
				as a hint.
				
				If this is 0, the maximum size is implementation defined.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="FlightRecorderConfig-fold-field-MinAge"><label for="FlightRecorderConfig-fold-field-MinAge"><a href="../../src/runtime/trace/flightrecorder.go.html#line-165">MinAge</a> <i><a href="../time.html">time</a>.<a href="../time.html#name-Duration">Duration</a></i></label><span id='FlightRecorderConfig-fold-field-MinAge-docs' class="fold-docs">
<span class="md-text">				MinAge is a lower bound on the age of an event in the flight recorder's window.
				
				The flight recorder will strive to promptly discard events older than the minimum age,
				but older events may appear in the window snapshot. The age setting will always be
				overridden by MaxSize.
				
				If this is 0, the minimum age is implementation defined, but can be assumed to be on the order
				of seconds.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="FlightRecorderConfig-fold-params"><label for="FlightRecorderConfig-fold-params">As Inputs Of (<i>at least one exported</i>)</label><span id='FlightRecorderConfig-fold-params-items' class="fold-items"><span>
			func <a href="#name-NewFlightRecorder">NewFlightRecorder</a>(cfg <b>FlightRecorderConfig</b>) *<a href="#name-FlightRecorder">FlightRecorder</a></span></span>

</span></div><div class="anchor type-res" id="name-Region" data-popularity="130">	<input type='checkbox' class="fold" id="Region-fold-content"><label for="Region-fold-content"> <a href="../../use/runtime/trace..Region.html">type</a> <a href="../../src/runtime/trace/annotation.go.html#line-162">Region</a> <i>(struct)</i></label><span id='Region-fold-content-docs' class="fold-docs">
<span class="md-text">		Region is a region of code whose execution time interval is traced.</span>

		<input type='checkbox' class="fold" id="Region-fold-fields"><label for="Region-fold-fields">Fields (<i>total 2, neither is exported</i>)</label><span id='Region-fold-fields-items' class="fold-items">
			<input type='checkbox' class="showhide" id="Region-showhide-fields"><i><label for="Region-showhide-fields" class="show-inline">/* 2 unexporteds ... */</label><label for="Region-showhide-fields" class="hide-inline">/* 2 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/annotation.go.html#line-163">id</a> <i><a href="../builtin.html#name-uint64">uint64</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/annotation.go.html#line-164">regionType</a> <i><a href="../builtin.html#name-string">string</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="Region-fold-methods"><label for="Region-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='Region-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Region-fold-method-End"><label for="Region-fold-method-End">(*Region) <a href="../../src/runtime/trace/annotation.go.html#line-170">End</a>()</label><span id='Region-fold-method-End-docs' class="fold-docs">
<span class="md-text">				End marks the end of the traced code region.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Region-fold-results"><label for="Region-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='Region-fold-results-items' class="fold-items"><span>
			func <a href="#name-StartRegion">StartRegion</a>(ctx <a href="../context.html">context</a>.<a href="../context.html#name-Context">Context</a>, regionType <a href="../builtin.html#name-string">string</a>) *<b>Region</b></span></span>
		<input type='checkbox' class="fold" id="Region-fold-values"><label for="Region-fold-values">As Types Of (<i>only one, which is unexported</i>)</label><span id='Region-fold-values-items' class="fold-items">
			<input type='checkbox' class="showhide" id="Region-showhide-values"><i><label for="Region-showhide-values" class="show-inline">/* one unexported ... */</label><label for="Region-showhide-values" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			  var <a href="#name-noopRegion">noopRegion</a> *Region</i></span></span>

</span></div><div class="anchor type-res" id="name-Task" data-popularity="205">	<input type='checkbox' class="fold" id="Task-fold-content"><label for="Task-fold-content"> <a href="../../use/runtime/trace..Task.html">type</a> <a href="../../src/runtime/trace/annotation.go.html#line-73">Task</a> <i>(struct)</i></label><span id='Task-fold-content-docs' class="fold-docs">
<span class="md-text">		Task is a data type for tracing a user-defined, logical operation.</span>

		<input type='checkbox' class="fold" id="Task-fold-fields"><label for="Task-fold-fields">Fields (<i>only one, which is unexported</i>)</label><span id='Task-fold-fields-items' class="fold-items">
			<input type='checkbox' class="showhide" id="Task-showhide-fields"><i><label for="Task-showhide-fields" class="show-inline">/* one unexported ... */</label><label for="Task-showhide-fields" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/annotation.go.html#line-74">id</a> <i><a href="../builtin.html#name-uint64">uint64</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="Task-fold-methods"><label for="Task-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='Task-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Task-fold-method-End"><label for="Task-fold-method-End">(*Task) <a href="../../src/runtime/trace/annotation.go.html#line-79">End</a>()</label><span id='Task-fold-method-End-docs' class="fold-docs">
<span class="md-text">				End marks the end of the operation represented by the [Task].</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Task-fold-results"><label for="Task-fold-results">As Outputs Of (<i>at least 2, in which 1 is exported</i>)</label><span id='Task-fold-results-items' class="fold-items"><span>
			func <a href="#name-NewTask">NewTask</a>(pctx <a href="../context.html">context</a>.<a href="../context.html#name-Context">Context</a>, taskType <a href="../builtin.html#name-string">string</a>) (ctx <a href="../context.html">context</a>.<a href="../context.html#name-Context">Context</a>, task *<b>Task</b>)</span>
			<input type='checkbox' class="showhide" id="Task-showhide-inputofs"><i><label for="Task-showhide-inputofs" class="show-inline">/* at least one unexported ... */</label><label for="Task-showhide-inputofs" class="hide-inline">/* at least one unexported: */</label></i><span class="hidden"><i>
			func <a href="#name-fromContext">fromContext</a>(ctx <a href="../context.html">context</a>.<a href="../context.html#name-Context">Context</a>) *<b>Task</b></i></span></span>
		<input type='checkbox' class="fold" id="Task-fold-values"><label for="Task-fold-values">As Types Of (<i>only one, which is unexported</i>)</label><span id='Task-fold-values-items' class="fold-items">
			<input type='checkbox' class="showhide" id="Task-showhide-values"><i><label for="Task-showhide-values" class="show-inline">/* one unexported ... */</label><label for="Task-showhide-values" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			  var <a href="#name-bgTask">bgTask</a></i></span></span>

</span></div></div><div>	<input type='checkbox' class="showhide" id="unexported-typenames-showhide"><i><label for="unexported-typenames-showhide" class="show-inline">/* 9 unexporteds ... */</label><label for="unexported-typenames-showhide" class="hide-inline">/* 9 unexporteds: */</label></i><div class="anchor type-res hidden" id="name-batch" data-popularity="75">	<input type='checkbox' class="fold" id="batch-fold-content"><label for="batch-fold-content"> <a href="../../use/runtime/trace..batch^4bb24.html">type</a> <a href="../../src/runtime/trace/batch.go.html#line-17">batch</a> <i>(struct)</i></label><span id='batch-fold-content-docs' class="fold-docs">
<span class="md-text">		batch represents a batch of trace events.
		It is unparsed except for its header.</span>

		<input type='checkbox' class="fold" id="batch-fold-fields"><label for="batch-fold-fields">Fields (<i>total 3, none are exported</i>)</label><span id='batch-fold-fields-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="batch-showhide-fields"><i><label for="batch-showhide-fields" class="show-inline">/* 3 unexporteds ... */</label><label for="batch-showhide-fields" class="hide-inline">/* 3 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/batch.go.html#line-20">data</a> <i>[]<a href="../builtin.html#name-byte">byte</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/batch.go.html#line-18">m</a> <i><a href="#name-threadID">threadID</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/batch.go.html#line-19">time</a> <i><a href="#name-timestamp">timestamp</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="batch-fold-results"><label for="batch-fold-results">As Outputs Of (<i>at least one unexported</i>)</label><span id='batch-fold-results-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="batch-showhide-inputofs"><i><label for="batch-showhide-inputofs" class="show-inline">/* at least one unexported ... */</label><label for="batch-showhide-inputofs" class="hide-inline">/* at least one unexported: */</label></i><span class="hidden"><i>
			func <a href="#name-readBatch">readBatch</a>(b []<a href="../builtin.html#name-byte">byte</a>) (<b>batch</b>, <a href="../builtin.html#name-uint64">uint64</a>, <a href="../builtin.html#name-uint64">uint64</a>, <a href="../builtin.html#name-error">error</a>)</i></span></span>

</span></div><div class="anchor type-res hidden" id="name-eventTime" data-popularity="125">	<input type='checkbox' class="fold" id="eventTime-fold-content"><label for="eventTime-fold-content"> <a href="../../use/runtime/trace..eventTime^78a30.html">type</a> <a href="../../src/runtime/trace/recorder.go.html#line-139">eventTime</a> <a href="../builtin.html#name-int64">int64</a> <i>(basic type)</i></label><span id='eventTime-fold-content-docs' class="fold-docs">
<span class="md-text">		eventTime is a timestamp in nanoseconds.
		
		It corresponds to the monotonic clock on the platform that the
		trace was taken, and so is possible to correlate with timestamps
		for other traces taken on the same machine using the same clock
		(i.e. no reboots in between).
		
		The actual absolute value of the timestamp is only meaningful in
		relation to other timestamps from the same clock.
		
		BUG: Timestamps coming from traces on Windows platforms are
		only comparable with timestamps from the same trace. Timestamps
		across traces cannot be compared, because the system clock is
		not used as of Go 1.22.
		
		BUG: Traces produced by Go versions 1.21 and earlier cannot be
		compared with timestamps from other traces taken on the same
		machine. This is because the system clock was not used at all
		to collect those timestamps.</span>

		<input type='checkbox' class="fold" id="eventTime-fold-methods"><label for="eventTime-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='eventTime-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="eventTime-fold-method-Sub"><label for="eventTime-fold-method-Sub">( eventTime) <a href="../../src/runtime/trace/recorder.go.html#line-142">Sub</a>(t0 <b>eventTime</b>) <a href="../time.html">time</a>.<a href="../time.html#name-Duration">Duration</a></label><span id='eventTime-fold-method-Sub-docs' class="fold-docs">
<span class="md-text">				Sub subtracts t0 from t, returning the duration in nanoseconds.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="eventTime-fold-results"><label for="eventTime-fold-results">As Outputs Of (<i>at least one unexported</i>)</label><span id='eventTime-fold-results-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="eventTime-showhide-inputofs"><i><label for="eventTime-showhide-inputofs" class="show-inline">/* at least one unexported ... */</label><label for="eventTime-showhide-inputofs" class="hide-inline">/* at least one unexported: */</label></i><span class="hidden"><i>
			func <a href="#name-traceTimeNow">traceTimeNow</a>(freq <a href="#name-frequency">frequency</a>) <b>eventTime</b></i></span></span>

</span></div><div class="anchor type-res hidden" id="name-frequency" data-popularity="85">	<input type='checkbox' class="fold" id="frequency-fold-content"><label for="frequency-fold-content"> <a href="../../use/runtime/trace..frequency^2e908.html">type</a> <a href="../../src/runtime/trace/recorder.go.html#line-113">frequency</a> <a href="../builtin.html#name-float64">float64</a> <i>(basic type)</i></label><span id='frequency-fold-content-docs' class="fold-docs">
<span class="md-text">		frequency is nanoseconds per timestamp unit.</span>

		<input type='checkbox' class="fold" id="frequency-fold-methods"><label for="frequency-fold-methods">Methods (<i>only one, which is unexported</i>)</label><span id='frequency-fold-methods-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="frequency-showhide-methods"><i><label for="frequency-showhide-methods" class="show-inline">/* one unexported ... */</label><label for="frequency-showhide-methods" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			<input type='checkbox' class="fold" id="frequency-fold-method-mul"><label for="frequency-fold-method-mul">( frequency) <a href="../../src/runtime/trace/recorder.go.html#line-116">mul</a>(t <a href="#name-timestamp">timestamp</a>) <a href="#name-eventTime">eventTime</a></label><span id='frequency-fold-method-mul-docs' class="fold-docs">
<span class="md-text">				mul multiplies an unprocessed to produce a time in nanoseconds.</span>
</span></i></span></span>
		<input type='checkbox' class="fold" id="frequency-fold-params"><label for="frequency-fold-params">As Inputs Of (<i>at least one unexported</i>)</label><span id='frequency-fold-params-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="frequency-showhide-outputofs"><i><label for="frequency-showhide-outputofs" class="show-inline">/* at least one unexported ... */</label><label for="frequency-showhide-outputofs" class="hide-inline">/* at least one unexported: */</label></i><span class="hidden"><i>
			func <a href="#name-traceTimeNow">traceTimeNow</a>(freq <b>frequency</b>) <a href="#name-eventTime">eventTime</a></i></span></span>

</span></div><div class="anchor type-res hidden" id="name-rawGeneration" data-popularity="0">	<input type='checkbox' class="fold" id="rawGeneration-fold-content"><label for="rawGeneration-fold-content"> <a href="../../use/runtime/trace..rawGeneration^699e2.html">type</a> <a href="../../src/runtime/trace/recorder.go.html#line-98">rawGeneration</a> <i>(struct)</i></label><span id='rawGeneration-fold-content-docs' class="fold-docs">

		<input type='checkbox' class="fold" id="rawGeneration-fold-fields"><label for="rawGeneration-fold-fields">Fields (<i>total 4, none are exported</i>)</label><span id='rawGeneration-fold-fields-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="rawGeneration-showhide-fields"><i><label for="rawGeneration-showhide-fields" class="show-inline">/* 4 unexporteds ... */</label><label for="rawGeneration-showhide-fields" class="hide-inline">/* 4 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/recorder.go.html#line-102">batches</a> <i>[]<a href="#name-batch">batch</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/recorder.go.html#line-99">gen</a> <i><a href="../builtin.html#name-uint64">uint64</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/recorder.go.html#line-101">minTime</a> <i><a href="#name-eventTime">eventTime</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/recorder.go.html#line-100">size</a> <i><a href="../builtin.html#name-int">int</a></i></span></i></span></span>

</span></div><div class="anchor type-res hidden" id="name-recorder" data-popularity="250">	<input type='checkbox' class="fold" id="recorder-fold-content"><label for="recorder-fold-content"> <a href="../../use/runtime/trace..recorder^93384.html">type</a> <a href="../../src/runtime/trace/recorder.go.html#line-15">recorder</a> <i>(struct)</i></label><span id='recorder-fold-content-docs' class="fold-docs">
<span class="md-text">		A recorder receives bytes from the runtime tracer, processes it.</span>

		<input type='checkbox' class="fold" id="recorder-fold-fields"><label for="recorder-fold-fields">Fields (<i>total 2, neither is exported</i>)</label><span id='recorder-fold-fields-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="recorder-showhide-fields"><i><label for="recorder-showhide-fields" class="show-inline">/* 2 unexporteds ... */</label><label for="recorder-showhide-fields" class="hide-inline">/* 2 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/recorder.go.html#line-18">headerReceived</a> <i><a href="../builtin.html#name-bool">bool</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/recorder.go.html#line-16">r</a> <i>*<a href="#name-FlightRecorder">FlightRecorder</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="recorder-fold-methods"><label for="recorder-fold-methods">Methods (<i>total 2, in which 1 is exported</i>)</label><span id='recorder-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">(*recorder) <a href="../../src/runtime/trace/recorder.go.html#line-21">Write</a>(b []<a href="../builtin.html#name-byte">byte</a>) (n <a href="../builtin.html#name-int">int</a>, err <a href="../builtin.html#name-error">error</a>)</span></span>
			<input type='checkbox' checked class="showhide" id="recorder-showhide-methods"><i><label for="recorder-showhide-methods" class="show-inline">/* one unexported ... */</label><label for="recorder-showhide-methods" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			<span class="nodocs">(*recorder) <a href="../../src/runtime/trace/recorder.go.html#line-63">endGeneration</a>()</span></i></span></span>
		<input type='checkbox' class="fold" id="recorder-fold-impls"><label for="recorder-fold-impls">Implements (<i>at least 3, in which 2 are exported</i>)</label><span id='recorder-fold-impls-items' class="fold-items"><span>
			*recorder : internal/bisect.<a href="../internal/bisect.html#name-Writer">Writer</a></span><span>
			*recorder : io.<a href="../io.html#name-Writer">Writer</a></span>
			<input type='checkbox' checked class="showhide" id="recorder-showhide-impls"><i><label for="recorder-showhide-impls" class="show-inline">/* at least one unexported ... */</label><label for="recorder-showhide-impls" class="hide-inline">/* at least one unexported: */</label></i><span class="hidden"><i>
			*recorder : crypto/tls.<a href="../crypto/tls.html#name-transcriptHash">transcriptHash</a></i></span></span>

</span></div><div class="anchor type-res hidden" id="name-threadID" data-popularity="0">	<input type='checkbox' class="fold" id="threadID-fold-content"><label for="threadID-fold-content"> <a href="../../use/runtime/trace..threadID^d0153.html">type</a> <a href="../../src/runtime/trace/batch.go.html#line-25">threadID</a> <a href="../builtin.html#name-int64">int64</a> <i>(basic type)</i></label><span id='threadID-fold-content-docs' class="fold-docs">
<span class="md-text">		threadID is the runtime-internal M structure's ID. This is unique
		for each OS thread.</span>

</span></div><div class="anchor type-res hidden" id="name-timestamp" data-popularity="0">	<input type='checkbox' class="fold" id="timestamp-fold-content"><label for="timestamp-fold-content"> <a href="../../use/runtime/trace..timestamp^32374.html">type</a> <a href="../../src/runtime/trace/batch.go.html#line-13">timestamp</a> <a href="../builtin.html#name-uint64">uint64</a> <i>(basic type)</i></label><span id='timestamp-fold-content-docs' class="fold-docs">
<span class="md-text">		timestamp is an unprocessed timestamp.</span>

</span></div><div class="anchor type-res hidden" id="name-traceContextKey" data-popularity="0">	<span class="nodocs"> <a href="../../use/runtime/trace..traceContextKey^8ba28.html">type</a> <a href="../../src/runtime/trace/annotation.go.html#line-14">traceContextKey</a> <i>(struct)</i></span></div><div class="anchor type-res hidden" id="name-traceMultiplexer" data-popularity="605">	<input type='checkbox' class="fold" id="traceMultiplexer-fold-content"><label for="traceMultiplexer-fold-content"> <a href="../../use/runtime/trace..traceMultiplexer^52ded.html">type</a> <a href="../../src/runtime/trace/subscribe.go.html#line-19">traceMultiplexer</a> <i>(struct)</i></label><span id='traceMultiplexer-fold-content-docs' class="fold-docs">

		<input type='checkbox' class="fold" id="traceMultiplexer-fold-fields"><label for="traceMultiplexer-fold-fields">Fields (<i>total 7, in which 1 is exported</i>)</label><span id='traceMultiplexer-fold-fields-items' class="fold-items"><span>
			<span class="nodocs"><a href="../../src/runtime/trace/subscribe.go.html#line-20">Mutex</a> <i><a href="../sync.html">sync</a>.<a href="../sync.html#name-Mutex">Mutex</a></i></span></span>
			<input type='checkbox' checked class="showhide" id="traceMultiplexer-showhide-fields"><i><label for="traceMultiplexer-showhide-fields" class="show-inline">/* 6 unexporteds ... */</label><label for="traceMultiplexer-showhide-fields" class="hide-inline">/* 6 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/subscribe.go.html#line-21">enabled</a> <i><a href="../sync/atomic.html">atomic</a>.<a href="../sync/atomic.html#name-Bool">Bool</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/subscribe.go.html#line-26">flightRecorder</a> <i>*<a href="#name-recorder">recorder</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/subscribe.go.html#line-20">Mutex</a>.<a href="../../src/sync/mutex.go.html#line-33">mu</a> <i><a href="../internal/sync.html">isync</a>.<a href="../internal/sync.html#name-Mutex">Mutex</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/subscribe.go.html#line-22">subscribers</a> <i><a href="../builtin.html#name-int">int</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/subscribe.go.html#line-24">subscribersMu</a> <i><a href="../sync.html">sync</a>.<a href="../sync.html#name-Mutex">Mutex</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/runtime/trace/subscribe.go.html#line-25">traceStartWriter</a> <i><a href="../io.html">io</a>.<a href="../io.html#name-Writer">Writer</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="traceMultiplexer-fold-methods"><label for="traceMultiplexer-fold-methods">Methods (<i>total 11, in which 3 are exported</i>)</label><span id='traceMultiplexer-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="traceMultiplexer-fold-method-Lock"><label for="traceMultiplexer-fold-method-Lock">(*traceMultiplexer) <a href="../../src/sync/mutex.go.html#line-45">Lock</a>()</label><span id='traceMultiplexer-fold-method-Lock-docs' class="fold-docs">
<span class="md-text">				Lock locks m.
				If the lock is already in use, the calling goroutine
				blocks until the mutex is available.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="traceMultiplexer-fold-method-TryLock"><label for="traceMultiplexer-fold-method-TryLock">(*traceMultiplexer) <a href="../../src/sync/mutex.go.html#line-54">TryLock</a>() <a href="../builtin.html#name-bool">bool</a></label><span id='traceMultiplexer-fold-method-TryLock-docs' class="fold-docs">
<span class="md-text">				TryLock tries to lock m and reports whether it succeeded.
				
				Note that while correct uses of TryLock do exist, they are rare,
				and use of TryLock is often a sign of a deeper problem
				in a particular use of mutexes.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="traceMultiplexer-fold-method-Unlock"><label for="traceMultiplexer-fold-method-Unlock">(*traceMultiplexer) <a href="../../src/sync/mutex.go.html#line-64">Unlock</a>()</label><span id='traceMultiplexer-fold-method-Unlock-docs' class="fold-docs">
<span class="md-text">				Unlock unlocks m.
				It is a run-time error if m is not locked on entry to Unlock.
				
				A locked [Mutex] is not associated with a particular goroutine.
				It is allowed for one goroutine to lock a Mutex and then
				arrange for another goroutine to unlock it.</span>
</span></span>
			<input type='checkbox' checked class="showhide" id="traceMultiplexer-showhide-methods"><i><label for="traceMultiplexer-showhide-methods" class="show-inline">/* 8 unexporteds ... */</label><label for="traceMultiplexer-showhide-methods" class="hide-inline">/* 8 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs">(*traceMultiplexer) <a href="../../src/runtime/trace/subscribe.go.html#line-107">addedSubscriber</a>() <a href="../builtin.html#name-error">error</a></span></i></span><span class="hidden"><i>
			<span class="nodocs">(*traceMultiplexer) <a href="../../src/runtime/trace/subscribe.go.html#line-134">removedSubscriber</a>()</span></i></span><span class="hidden"><i>
			<span class="nodocs">(*traceMultiplexer) <a href="../../src/runtime/trace/subscribe.go.html#line-120">removingSubscriber</a>()</span></i></span><span class="hidden"><i>
			<span class="nodocs">(*traceMultiplexer) <a href="../../src/runtime/trace/subscribe.go.html#line-141">startLocked</a>() <a href="../builtin.html#name-error">error</a></span></i></span><span class="hidden"><i>
			<span class="nodocs">(*traceMultiplexer) <a href="../../src/runtime/trace/subscribe.go.html#line-29">subscribeFlightRecorder</a>(r *<a href="#name-recorder">recorder</a>) <a href="../builtin.html#name-error">error</a></span></i></span><span class="hidden"><i>
			<span class="nodocs">(*traceMultiplexer) <a href="../../src/runtime/trace/subscribe.go.html#line-68">subscribeTraceStartWriter</a>(w <a href="../io.html">io</a>.<a href="../io.html#name-Writer">Writer</a>) <a href="../builtin.html#name-error">error</a></span></i></span><span class="hidden"><i>
			<span class="nodocs">(*traceMultiplexer) <a href="../../src/runtime/trace/subscribe.go.html#line-50">unsubscribeFlightRecorder</a>() <a href="../builtin.html#name-error">error</a></span></i></span><span class="hidden"><i>
			<span class="nodocs">(*traceMultiplexer) <a href="../../src/runtime/trace/subscribe.go.html#line-89">unsubscribeTraceStartWriter</a>()</span></i></span></span>
		<input type='checkbox' class="fold" id="traceMultiplexer-fold-impls"><label for="traceMultiplexer-fold-impls">Implements (<i>at least one exported</i>)</label><span id='traceMultiplexer-fold-impls-items' class="fold-items"><span>
			*traceMultiplexer : sync.<a href="../sync.html#name-Locker">Locker</a></span></span>
		<input type='checkbox' class="fold" id="traceMultiplexer-fold-values"><label for="traceMultiplexer-fold-values">As Types Of (<i>only one, which is unexported</i>)</label><span id='traceMultiplexer-fold-values-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="traceMultiplexer-showhide-values"><i><label for="traceMultiplexer-showhide-values" class="show-inline">/* one unexported ... */</label><label for="traceMultiplexer-showhide-values" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			  var <a href="#name-tracing">tracing</a></i></span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (total 23, in which 9 are exported)</i></span></span>

<div class="anchor value-res" id="name-IsEnabled">	<input type='checkbox' class="fold" id="IsEnabled-fold-content"><label for="IsEnabled-fold-content"> <a href="../../use/runtime/trace..IsEnabled.html">func</a> <a href="../../src/runtime/trace/annotation.go.html#line-180">IsEnabled</a>() <a href="../builtin.html#name-bool">bool</a></label><span id='IsEnabled-fold-content-docs' class="fold-docs">
<span class="md-text">		IsEnabled reports whether tracing is enabled.
		The information is advisory only. The tracing status
		may have changed by the time this function returns.</span>

</span></div><div class="anchor value-res" id="name-Log">	<input type='checkbox' class="fold" id="Log-fold-content"><label for="Log-fold-content"> <a href="../../use/runtime/trace..Log.html">func</a> <a href="../../src/runtime/trace/annotation.go.html#line-95">Log</a>(ctx <a href="../context.html">context</a>.<a href="../context.html#name-Context">Context</a>, category, message <a href="../builtin.html#name-string">string</a>)</label><span id='Log-fold-content-docs' class="fold-docs">
<span class="md-text">		Log emits a one-off event with the given category and message.
		Category can be empty and the API assumes there are only a handful of
		unique categories in the system.</span>

</span></div><div class="anchor value-res" id="name-Logf">	<input type='checkbox' class="fold" id="Logf-fold-content"><label for="Logf-fold-content"> <a href="../../use/runtime/trace..Logf.html">func</a> <a href="../../src/runtime/trace/annotation.go.html#line-101">Logf</a>(ctx <a href="../context.html">context</a>.<a href="../context.html#name-Context">Context</a>, category, format <a href="../builtin.html#name-string">string</a>, args ...<a href="../builtin.html#name-any">any</a>)</label><span id='Logf-fold-content-docs' class="fold-docs">
<span class="md-text">		Logf is like [Log], but the value is formatted using the specified format spec.</span>

</span></div><div class="anchor value-res" id="name-NewFlightRecorder">	<input type='checkbox' class="fold" id="NewFlightRecorder-fold-content"><label for="NewFlightRecorder-fold-content"> <a href="../../use/runtime/trace..NewFlightRecorder.html">func</a> <a href="../../src/runtime/trace/flightrecorder.go.html#line-48">NewFlightRecorder</a>(cfg <a href="#name-FlightRecorderConfig">FlightRecorderConfig</a>) *<a href="#name-FlightRecorder">FlightRecorder</a></label><span id='NewFlightRecorder-fold-content-docs' class="fold-docs">
<span class="md-text">		NewFlightRecorder creates a new flight recorder from the provided configuration.</span>

</span></div><div class="anchor value-res" id="name-NewTask">	<input type='checkbox' class="fold" id="NewTask-fold-content"><label for="NewTask-fold-content"> <a href="../../use/runtime/trace..NewTask.html">func</a> <a href="../../src/runtime/trace/annotation.go.html#line-38">NewTask</a>(pctx <a href="../context.html">context</a>.<a href="../context.html#name-Context">Context</a>, taskType <a href="../builtin.html#name-string">string</a>) (ctx <a href="../context.html">context</a>.<a href="../context.html#name-Context">Context</a>, task *<a href="#name-Task">Task</a>)</label><span id='NewTask-fold-content-docs' class="fold-docs">
<span class="md-text">		NewTask creates a task instance with the type taskType and returns
		it along with a Context that carries the task.
		If the input context contains a task, the new task is its subtask.
		
		The taskType is used to classify task instances. Analysis tools
		like the Go execution tracer may assume there are only a bounded
		number of unique task types in the system.
		
		The returned Task's [Task.End] method is used to mark the task's end.
		The trace tool measures task latency as the time between task creation
		and when the End method is called, and provides the latency
		distribution per task type.
		If the End method is called multiple times, only the first
		call is used in the latency measurement.
		
			ctx, task := trace.NewTask(ctx, "awesomeTask")
			trace.WithRegion(ctx, "preparation", prepWork)
			// preparation of the task
			go func() {  // continue processing the task in a separate goroutine.
			    defer task.End()
			    trace.WithRegion(ctx, "remainingWork", remainingWork)
			}()</span>

</span></div><div class="anchor value-res" id="name-Start">	<input type='checkbox' class="fold" id="Start-fold-content"><label for="Start-fold-content"> <a href="../../use/runtime/trace..Start.html">func</a> <a href="../../src/runtime/trace/trace.go.html#line-118">Start</a>(w <a href="../io.html">io</a>.<a href="../io.html#name-Writer">Writer</a>) <a href="../builtin.html#name-error">error</a></label><span id='Start-fold-content-docs' class="fold-docs">
<span class="md-text">		Start enables tracing for the current program.
		While tracing, the trace will be buffered and written to w.
		Start returns an error if tracing is already enabled.</span>

</span></div><div class="anchor value-res" id="name-StartRegion">	<input type='checkbox' class="fold" id="StartRegion-fold-content"><label for="StartRegion-fold-content"> <a href="../../use/runtime/trace..StartRegion.html">func</a> <a href="../../src/runtime/trace/annotation.go.html#line-152">StartRegion</a>(ctx <a href="../context.html">context</a>.<a href="../context.html#name-Context">Context</a>, regionType <a href="../builtin.html#name-string">string</a>) *<a href="#name-Region">Region</a></label><span id='StartRegion-fold-content-docs' class="fold-docs">
<span class="md-text">		StartRegion starts a region and returns it.
		The returned Region's [Region.End] method must be called
		from the same goroutine where the region was started.
		Within each goroutine, regions must nest. That is, regions started
		after this region must be ended before this region can be ended.
		Recommended usage is
		
			defer trace.StartRegion(ctx, "myTracedRegion").End()</span>

</span></div><div class="anchor value-res" id="name-Stop">	<input type='checkbox' class="fold" id="Stop-fold-content"><label for="Stop-fold-content"> <a href="../../use/runtime/trace..Stop.html">func</a> <a href="../../src/runtime/trace/trace.go.html#line-124">Stop</a>()</label><span id='Stop-fold-content-docs' class="fold-docs">
<span class="md-text">		Stop stops the current tracing, if any.
		Stop only returns after all the writes for the trace have completed.</span>

</span></div><div class="anchor value-res" id="name-WithRegion">	<input type='checkbox' class="fold" id="WithRegion-fold-content"><label for="WithRegion-fold-content"> <a href="../../use/runtime/trace..WithRegion.html">func</a> <a href="../../src/runtime/trace/annotation.go.html#line-122">WithRegion</a>(ctx <a href="../context.html">context</a>.<a href="../context.html#name-Context">Context</a>, regionType <a href="../builtin.html#name-string">string</a>, fn func())</label><span id='WithRegion-fold-content-docs' class="fold-docs">
<span class="md-text">		WithRegion starts a region associated with its calling goroutine, runs fn,
		and then ends the region. If the context carries a task, the region is
		associated with the task. Otherwise, the region is attached to the background
		task.
		
		The regionType is used to classify regions, so there should be only a
		handful of unique region types.</span>

</span></div>	<input type='checkbox' class="showhide" id="unexported-functions-showhide"><i><label for="unexported-functions-showhide" class="show-inline">/* 14 unexporteds ... */</label><label for="unexported-functions-showhide" class="hide-inline">/* 14 unexporteds: */</label></i><div class="anchor value-res hidden" id="name-fromContext"><i>	<span class="nodocs"> <a href="../../use/runtime/trace..fromContext^36f2e.html">func</a> <a href="../../src/runtime/trace/annotation.go.html#line-65">fromContext</a>(ctx <a href="../context.html">context</a>.<a href="../context.html#name-Context">Context</a>) *<a href="#name-Task">Task</a></span></i></div><div class="anchor value-res hidden" id="name-newID"><i>	<span class="nodocs"> <a href="../../use/runtime/trace..newID^1de4a.html">func</a> <a href="../../src/runtime/trace/annotation.go.html#line-85">newID</a>() <a href="../builtin.html#name-uint64">uint64</a></span></i></div><div class="anchor value-res hidden" id="name-putUvarint"><i>	<input type='checkbox' class="fold" id="putUvarint-fold-content"><label for="putUvarint-fold-content"> <a href="../../use/runtime/trace..putUvarint^92beb.html">func</a> <a href="../../src/runtime/trace/encoding.go.html#line-41">putUvarint</a>(buf []<a href="../builtin.html#name-byte">byte</a>, x <a href="../builtin.html#name-uint64">uint64</a>) <a href="../builtin.html#name-int">int</a></label><span id='putUvarint-fold-content-docs' class="fold-docs">
<span class="md-text">		putUvarint encodes a uint64 into buf and returns the number of bytes written.
		If the buffer is too small, PutUvarint will panic.
		TODO deduplicate this function.</span>

</span></i></div><div class="anchor value-res hidden" id="name-readBatch"><i>	<input type='checkbox' class="fold" id="readBatch-fold-content"><label for="readBatch-fold-content"> <a href="../../use/runtime/trace..readBatch^22b3e.html">func</a> <a href="../../src/runtime/trace/batch.go.html#line-29">readBatch</a>(b []<a href="../builtin.html#name-byte">byte</a>) (<a href="#name-batch">batch</a>, <a href="../builtin.html#name-uint64">uint64</a>, <a href="../builtin.html#name-uint64">uint64</a>, <a href="../builtin.html#name-error">error</a>)</label><span id='readBatch-fold-content-docs' class="fold-docs">
<span class="md-text">		readBatch copies b and parses the trace batch header inside.
		Returns the batch, the generation, bytes read, and an error.</span>

</span></i></div><div class="anchor value-res hidden" id="name-readUvarint"><i>	<input type='checkbox' class="fold" id="readUvarint-fold-content"><label for="readUvarint-fold-content"> <a href="../../use/runtime/trace..readUvarint^a535c.html">func</a> <a href="../../src/runtime/trace/encoding.go.html#line-20">readUvarint</a>(b []<a href="../builtin.html#name-byte">byte</a>) (<a href="../builtin.html#name-uint64">uint64</a>, <a href="../builtin.html#name-int">int</a>, <a href="../builtin.html#name-error">error</a>)</label><span id='readUvarint-fold-content-docs' class="fold-docs">
<span class="md-text">		TODO deduplicate this function.</span>

</span></i></div><div class="anchor value-res hidden" id="name-runtime_readTrace"><i>	<span class="nodocs"> <a href="../../use/runtime/trace..runtime_readTrace^cc2e3.html">func</a> <a href="../../src/runtime/trace/subscribe.go.html#line-205">runtime_readTrace</a>() (buf []<a href="../builtin.html#name-byte">byte</a>)</span></i></div><div class="anchor value-res hidden" id="name-runtime_traceAdvance"><i>	<span class="nodocs"> <a href="../../use/runtime/trace..runtime_traceAdvance^95be1.html">func</a> <a href="../../src/runtime/trace/flightrecorder.go.html#line-182">runtime_traceAdvance</a>(stopTrace <a href="../builtin.html#name-bool">bool</a>)</span></i></div><div class="anchor value-res hidden" id="name-runtime_traceClockNow"><i>	<span class="nodocs"> <a href="../../use/runtime/trace..runtime_traceClockNow^67bc0.html">func</a> <a href="../../src/runtime/trace/recorder.go.html#line-110">runtime_traceClockNow</a>() <a href="../builtin.html#name-uint64">uint64</a></span></i></div><div class="anchor value-res hidden" id="name-runtime_traceClockUnitsPerSecond"><i>	<span class="nodocs"> <a href="../../use/runtime/trace..runtime_traceClockUnitsPerSecond^01045.html">func</a> <a href="../../src/runtime/trace/flightrecorder.go.html#line-179">runtime_traceClockUnitsPerSecond</a>() <a href="../builtin.html#name-uint64">uint64</a></span></i></div><div class="anchor value-res hidden" id="name-traceTimeNow"><i>	<span class="nodocs"> <a href="../../use/runtime/trace..traceTimeNow^61b5f.html">func</a> <a href="../../src/runtime/trace/recorder.go.html#line-105">traceTimeNow</a>(freq <a href="#name-frequency">frequency</a>) <a href="#name-eventTime">eventTime</a></span></i></div><div class="anchor value-res hidden" id="name-userLog"><i>	<input type='checkbox' class="fold" id="userLog-fold-content"><label for="userLog-fold-content"> <a href="../../use/runtime/trace..userLog^0cc06.html">func</a> <a href="../../src/runtime/trace/annotation.go.html#line-198">userLog</a>(id <a href="../builtin.html#name-uint64">uint64</a>, category, message <a href="../builtin.html#name-string">string</a>)</label><span id='userLog-fold-content-docs' class="fold-docs">
<span class="md-text">		emits UserLog event.</span>

</span></i></div><div class="anchor value-res hidden" id="name-userRegion"><i>	<input type='checkbox' class="fold" id="userRegion-fold-content"><label for="userRegion-fold-content"> <a href="../../use/runtime/trace..userRegion^eb079.html">func</a> <a href="../../src/runtime/trace/annotation.go.html#line-195">userRegion</a>(id, mode <a href="../builtin.html#name-uint64">uint64</a>, regionType <a href="../builtin.html#name-string">string</a>)</label><span id='userRegion-fold-content-docs' class="fold-docs">
<span class="md-text">		emits UserRegion event.</span>

</span></i></div><div class="anchor value-res hidden" id="name-userTaskCreate"><i>	<input type='checkbox' class="fold" id="userTaskCreate-fold-content"><label for="userTaskCreate-fold-content"> <a href="../../use/runtime/trace..userTaskCreate^e63f1.html">func</a> <a href="../../src/runtime/trace/annotation.go.html#line-189">userTaskCreate</a>(id, parentID <a href="../builtin.html#name-uint64">uint64</a>, taskType <a href="../builtin.html#name-string">string</a>)</label><span id='userTaskCreate-fold-content-docs' class="fold-docs">
<span class="md-text">		emits UserTaskCreate event.</span>

</span></i></div><div class="anchor value-res hidden" id="name-userTaskEnd"><i>	<input type='checkbox' class="fold" id="userTaskEnd-fold-content"><label for="userTaskEnd-fold-content"> <a href="../../use/runtime/trace..userTaskEnd^e7abe.html">func</a> <a href="../../src/runtime/trace/annotation.go.html#line-192">userTaskEnd</a>(id <a href="../builtin.html#name-uint64">uint64</a>)</label><span id='userTaskEnd-fold-content-docs' class="fold-docs">
<span class="md-text">		emits UserTaskEnd event.</span>

</span></i></div></div>
<div id="exported-variables"><span class="title">Package-Level Variables<span class="title-stat"><i> (total 6, none are exported)</i></span></span>

	<input type='checkbox' class="showhide" id="unexported-variables-showhide"><i><label for="unexported-variables-showhide" class="show-inline">/* 6 unexporteds ... */</label><label for="unexported-variables-showhide" class="hide-inline">/* 6 unexporteds: */</label></i><div class="anchor value-res hidden" id="name-bgTask"><i>	<span class="nodocs">  <a href="../../use/runtime/trace..bgTask^a23d6.html">var</a> <a href="../../src/runtime/trace/annotation.go.html#line-90">bgTask</a> <a href="#name-Task">Task</a></span></i></div><div class="anchor value-res hidden" id="name-errEOB"><i>	<span class="nodocs">  <a href="../../use/runtime/trace..errEOB^961c4.html">var</a> <a href="../../src/runtime/trace/encoding.go.html#line-16">errEOB</a> <a href="../builtin.html#name-error">error</a></span></i></div><div class="anchor value-res hidden" id="name-errOverflow"><i>	<span class="nodocs">  <a href="../../use/runtime/trace..errOverflow^6172c.html">var</a> <a href="../../src/runtime/trace/encoding.go.html#line-15">errOverflow</a> <a href="../builtin.html#name-error">error</a></span></i></div><div class="anchor value-res hidden" id="name-lastTaskID"><i>	<span class="nodocs">  <a href="../../use/runtime/trace..lastTaskID^4b0b9.html">var</a> <a href="../../src/runtime/trace/annotation.go.html#line-83">lastTaskID</a> <a href="../builtin.html#name-uint64">uint64</a> // <span class="md-text">task id issued last time</span></span></i></div><div class="anchor value-res hidden" id="name-noopRegion"><i>	<span class="nodocs">  <a href="../../use/runtime/trace..noopRegion^5a918.html">var</a> <a href="../../src/runtime/trace/annotation.go.html#line-167">noopRegion</a> *<a href="#name-Region">Region</a></span></i></div><div class="anchor value-res hidden" id="name-tracing"><i>	<span class="nodocs">  <a href="../../use/runtime/trace..tracing^8f7fa.html">var</a> <a href="../../src/runtime/trace/subscribe.go.html#line-17">tracing</a> <a href="#name-traceMultiplexer">traceMultiplexer</a></span></i></div></div>
<div id="exported-constants"><span class="title">Package-Level Constants<span class="title-stat"><i> (total 3, none are exported)</i></span></span>

	<input type='checkbox' class="showhide" id="unexported-constants-showhide"><i><label for="unexported-constants-showhide" class="show-inline">/* 3 unexporteds ... */</label><label for="unexported-constants-showhide" class="hide-inline">/* 3 unexporteds: */</label></i><div class="anchor value-res hidden" id="name-maxVarintLen64"><i>	<input type='checkbox' class="fold" id="maxVarintLen64-fold-content"><label for="maxVarintLen64-fold-content"><a href="../../use/runtime/trace..maxVarintLen64^084c1.html">const</a> <a href="../../src/runtime/trace/encoding.go.html#line-12">maxVarintLen64</a> = 10</label><span id='maxVarintLen64-fold-content-docs' class="fold-docs">
<span class="md-text">		maxVarintLenN is the maximum length of a varint-encoded N-bit integer.</span>

</span></i></div><div class="anchor value-res hidden" id="name-regionEndCode"><i>	<span class="nodocs"><a href="../../use/runtime/trace..regionEndCode^1de12.html">const</a> <a href="../../src/runtime/trace/annotation.go.html#line-112">regionEndCode</a> <a href="../builtin.html#name-uint64">uint64</a> = 1</span></i></div><div class="anchor value-res hidden" id="name-regionStartCode"><i>	<span class="nodocs"><a href="../../use/runtime/trace..regionStartCode^48ebb.html">const</a> <a href="../../src/runtime/trace/annotation.go.html#line-111">regionStartCode</a> <a href="../builtin.html#name-uint64">uint64</a> = 0</span></i></div></div></code></pre><pre id="footer">
The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.7.6</i>. (GOOS=linux GOARCH=amd64)</pre>