<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: internal/runtime/exithook</title>
<link href="../../../css/auto-v0.7.6.css" rel="stylesheet">
<script src="../../../jvs/golds-v0.7.6.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>exithook</b></span>

<span class="title">Import Path</span>
	<a href="../../../index.html#pkg-internal/runtime/exithook">internal/runtime/exithook</a><i> (on <a href="https://pkg.go.dev/internal/runtime/exithook" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../../dep/internal/runtime/exithook.html">2 packages</a>, and imported by <a href="../../../dep/internal/runtime/exithook.html#imported-by">one package</a>

<div id="files"><span class="title">Involved Source Files</span>

	<input type='checkbox' checked class="fold" id="file-0-fold-content"><label for="file-0-fold-content">  <a href="../../../src/internal/runtime/exithook/hooks.go.html#doc">d</a> <a href="../../../src/internal/runtime/exithook/hooks.go.html">hooks.go</a></label><span id='file-0-fold-content-items' class="fold-items">
<span class="md-text">		Package exithook provides limited support for on-exit cleanup.
		
		CAREFUL! The expectation is that Add should only be called
		from a safe context (e.g. not an error/panic path or signal
		handler, preemption enabled, allocation allowed, write barriers
		allowed, etc), and that the exit function F will be invoked under
		similar circumstances. That is the say, we are expecting that F
		uses normal / high-level Go code as opposed to one of the more
		restricted dialects used for the trickier parts of the runtime.</span></span></div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 2, in which 1 is exported)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort exporteds by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-Hook" data-popularity="35">	<input type='checkbox' class="fold" id="Hook-fold-content"><label for="Hook-fold-content"> <a href="../../../use/internal/runtime/exithook..Hook.html">type</a> <a href="../../../src/internal/runtime/exithook/hooks.go.html#line-25">Hook</a> <i>(struct)</i></label><span id='Hook-fold-content-docs' class="fold-docs">
<span class="md-text">		A Hook is a function to be run at program termination
		(when someone invokes os.Exit, or when main.main returns).
		Hooks are run in reverse order of registration:
		the first hook added is the last one run.</span>

		<input type='checkbox' class="fold" id="Hook-fold-fields"><label for="Hook-fold-fields">Fields (<i>total 2, both are exported</i>)</label><span id='Hook-fold-fields-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Hook-fold-field-F"><label for="Hook-fold-field-F"><a href="../../../src/internal/runtime/exithook/hooks.go.html#line-26">F</a> <i>func()</i></label><span id='Hook-fold-field-F-docs' class="fold-docs">
<span class="md-text">				// func to run</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Hook-fold-field-RunOnFailure"><label for="Hook-fold-field-RunOnFailure"><a href="../../../src/internal/runtime/exithook/hooks.go.html#line-27">RunOnFailure</a> <i><a href="../../builtin.html#name-bool">bool</a></i></label><span id='Hook-fold-field-RunOnFailure-docs' class="fold-docs">
<span class="md-text">				// whether to run on non-zero exit code</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Hook-fold-params"><label for="Hook-fold-params">As Inputs Of (<i>at least one exported</i>)</label><span id='Hook-fold-params-items' class="fold-items"><span>
			func <a href="#name-Add">Add</a>(h <b>Hook</b>)</span></span>

</span></div></div><div>	<input type='checkbox' class="showhide" id="unexported-typenames-showhide"><i><label for="unexported-typenames-showhide" class="show-inline">/* one unexported ... */</label><label for="unexported-typenames-showhide" class="hide-inline">/* one unexported: */</label></i><div class="anchor type-res hidden" id="name-exitError" data-popularity="100">	<input type='checkbox' class="fold" id="exitError-fold-content"><label for="exitError-fold-content"> <a href="../../../use/internal/runtime/exithook..exitError^85c7b.html">type</a> <a href="../../../src/internal/runtime/exithook/hooks.go.html#line-83">exitError</a> <a href="../../builtin.html#name-string">string</a> <i>(basic type)</i></label><span id='exitError-fold-content-docs' class="fold-docs">

		<input type='checkbox' class="fold" id="exitError-fold-methods"><label for="exitError-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='exitError-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">( exitError) <a href="../../../src/internal/runtime/exithook/hooks.go.html#line-85">Error</a>() <a href="../../builtin.html#name-string">string</a></span></span></span>
		<input type='checkbox' class="fold" id="exitError-fold-impls"><label for="exitError-fold-impls">Implements (<i>at least one exported</i>)</label><span id='exitError-fold-impls-items' class="fold-items"><span>
			 exitError : <a href="../../builtin.html#name-error">error</a></span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (total 2, both are exported)</i></span></span>

<div class="anchor value-res" id="name-Add">	<input type='checkbox' class="fold" id="Add-fold-content"><label for="Add-fold-content"> <a href="../../../use/internal/runtime/exithook..Add^9fd72.html">func</a> <a href="../../../src/internal/runtime/exithook/hooks.go.html#line-43">Add</a>(h <a href="#name-Hook">Hook</a>)</label><span id='Add-fold-content-docs' class="fold-docs">
<span class="md-text">		Add adds a new exit hook.</span>

</span></div><div class="anchor value-res" id="name-Run">	<input type='checkbox' class="fold" id="Run-fold-content"><label for="Run-fold-content"> <a href="../../../use/internal/runtime/exithook..Run.html">func</a> <a href="../../../src/internal/runtime/exithook/hooks.go.html#line-56">Run</a>(code <a href="../../builtin.html#name-int">int</a>)</label><span id='Run-fold-content-docs' class="fold-docs">
<span class="md-text">		Run runs the exit hooks.
		
		If an exit hook panics, Run will throw with the panic on the stack.
		If an exit hook invokes exit in the same goroutine, the goroutine will throw.
		If an exit hook invokes exit in another goroutine, that exit will block.</span>

</span></div></div>
<div id="exported-variables"><span class="title">Package-Level Variables<span class="title-stat"><i> (total 7, in which 3 are exported)</i></span></span>

<div class="anchor value-res" id="name-Goid">	<span class="nodocs">  <a href="../../../use/internal/runtime/exithook..Goid.html">var</a> <a href="../../../src/internal/runtime/exithook/hooks.go.html#line-38">Goid</a> () <a href="../../builtin.html#name-uint64">uint64</a></span></div><div class="anchor value-res" id="name-Gosched">	<input type='checkbox' class="fold" id="Gosched-fold-content"><label for="Gosched-fold-content">  <a href="../../../use/internal/runtime/exithook..Gosched.html">var</a> <a href="../../../src/internal/runtime/exithook/hooks.go.html#line-37">Gosched</a> ()</label><span id='Gosched-fold-content-docs' class="fold-docs">
<span class="md-text">		runtime sets these for us</span>

</span></div><div class="anchor value-res" id="name-Throw">	<span class="nodocs">  <a href="../../../use/internal/runtime/exithook..Throw.html">var</a> <a href="../../../src/internal/runtime/exithook/hooks.go.html#line-39">Throw</a> (<a href="../../builtin.html#name-string">string</a>)</span></div>	<input type='checkbox' class="showhide" id="unexported-variables-showhide"><i><label for="unexported-variables-showhide" class="show-inline">/* 4 unexporteds ... */</label><label for="unexported-variables-showhide" class="hide-inline">/* 4 unexporteds: */</label></i><div class="anchor value-res hidden" id="name-hooks"><i>	<span class="nodocs">  <a href="../../../use/internal/runtime/exithook..hooks^a9fa9.html">var</a> <a href="../../../src/internal/runtime/exithook/hooks.go.html#line-33">hooks</a> []<a href="#name-Hook">Hook</a></span></i></div><div class="anchor value-res hidden" id="name-locked"><i>	<span class="nodocs">  <a href="../../../use/internal/runtime/exithook..locked^14493.html">var</a> <a href="../../../src/internal/runtime/exithook/hooks.go.html#line-31">locked</a> <a href="atomic.html">atomic</a>.<a href="atomic.html#name-Int32">Int32</a></span></i></div><div class="anchor value-res hidden" id="name-runGoid"><i>	<span class="nodocs">  <a href="../../../use/internal/runtime/exithook..runGoid^6cbcc.html">var</a> <a href="../../../src/internal/runtime/exithook/hooks.go.html#line-32">runGoid</a> <a href="atomic.html">atomic</a>.<a href="atomic.html#name-Uint64">Uint64</a></span></i></div><div class="anchor value-res hidden" id="name-running"><i>	<span class="nodocs">  <a href="../../../use/internal/runtime/exithook..running^c071c.html">var</a> <a href="../../../src/internal/runtime/exithook/hooks.go.html#line-34">running</a> <a href="../../builtin.html#name-bool">bool</a></span></i></div></div></code></pre><pre id="footer">
The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.7.6</i>. (GOOS=linux GOARCH=amd64)</pre>