<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: internal/runtime/gc</title>
<link href="../../../css/auto-v0.7.6.css" rel="stylesheet">
<script src="../../../jvs/golds-v0.7.6.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>gc</b></span>

<span class="title">Import Path</span>
	<a href="../../../index.html#pkg-internal/runtime/gc">internal/runtime/gc</a><i> (on <a href="https://pkg.go.dev/internal/runtime/gc" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../../dep/internal/runtime/gc.html">one package</a>, and imported by <a href="../../../dep/internal/runtime/gc.html#imported-by">one package</a>

<div id="files"><span class="title">Involved Source Files</span>

	<span class="nodocs">    <a href="../../../src/internal/runtime/gc/malloc.go.html">malloc.go</a></span>
	<span class="nodocs">    <a href="../../../src/internal/runtime/gc/scan.go.html">scan.go</a></span>
	<span class="nodocs">    <a href="../../../src/internal/runtime/gc/sizeclasses.go.html">sizeclasses.go</a></span></div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 2, both are exported)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort exporteds by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-ObjMask" data-popularity="0">	<input type='checkbox' class="fold" id="ObjMask-fold-content"><label for="ObjMask-fold-content"> <a href="../../../use/internal/runtime/gc..ObjMask.html">type</a> <a href="../../../src/internal/runtime/gc/scan.go.html#line-12">ObjMask</a> <i>([...])</i></label><span id='ObjMask-fold-content-docs' class="fold-docs">
<span class="md-text">		ObjMask is a bitmap where each bit corresponds to an object in a span.
		
		It is sized to accomodate all size classes.</span>

</span></div><div class="anchor type-res" id="name-PtrMask" data-popularity="0">	<input type='checkbox' class="fold" id="PtrMask-fold-content"><label for="PtrMask-fold-content"> <a href="../../../use/internal/runtime/gc..PtrMask.html">type</a> <a href="../../../src/internal/runtime/gc/scan.go.html#line-15">PtrMask</a> <i>([...])</i></label><span id='PtrMask-fold-content-docs' class="fold-docs">
<span class="md-text">		PtrMask is a bitmap where each bit represents a pointer-word in a single runtime page.</span>

</span></div></div>
<div id="exported-variables"><span class="title">Package-Level Variables<span class="title-stat"><i> (total 5, all are exported)</i></span></span>

<div class="anchor value-res" id="name-SizeClassToDivMagic">	<span class="nodocs">  <a href="../../../use/internal/runtime/gc..SizeClassToDivMagic.html">var</a> <a href="../../../src/internal/runtime/gc/sizeclasses.go.html#line-97">SizeClassToDivMagic</a> [68]<a href="../../builtin.html#name-uint32">uint32</a></span></div><div class="anchor value-res" id="name-SizeClassToNPages">	<span class="nodocs">  <a href="../../../use/internal/runtime/gc..SizeClassToNPages.html">var</a> <a href="../../../src/internal/runtime/gc/sizeclasses.go.html#line-96">SizeClassToNPages</a> [68]<a href="../../builtin.html#name-uint8">uint8</a></span></div><div class="anchor value-res" id="name-SizeClassToSize">	<span class="nodocs">  <a href="../../../use/internal/runtime/gc..SizeClassToSize.html">var</a> <a href="../../../src/internal/runtime/gc/sizeclasses.go.html#line-95">SizeClassToSize</a> [68]<a href="../../builtin.html#name-uint16">uint16</a></span></div><div class="anchor value-res" id="name-SizeToSizeClass128">	<span class="nodocs">  <a href="../../../use/internal/runtime/gc..SizeToSizeClass128.html">var</a> <a href="../../../src/internal/runtime/gc/sizeclasses.go.html#line-99">SizeToSizeClass128</a> [249]<a href="../../builtin.html#name-uint8">uint8</a></span></div><div class="anchor value-res" id="name-SizeToSizeClass8">	<span class="nodocs">  <a href="../../../use/internal/runtime/gc..SizeToSizeClass8.html">var</a> <a href="../../../src/internal/runtime/gc/sizeclasses.go.html#line-98">SizeToSizeClass8</a> [129]<a href="../../builtin.html#name-uint8">uint8</a></span></div></div>
<div id="exported-constants"><span class="title">Package-Level Constants<span class="title-stat"><i> (total 12, in which 11 are exported)</i></span></span>

<div class="anchor value-res" id="name-LargeSizeDiv">	<span class="nodocs"><a href="../../../use/internal/runtime/gc..LargeSizeDiv.html">const</a> <a href="../../../src/internal/runtime/gc/sizeclasses.go.html#line-89">LargeSizeDiv</a> = 128</span></div><div class="anchor value-res" id="name-MallocHeaderSize">	<input type='checkbox' class="fold" id="MallocHeaderSize-fold-content"><label for="MallocHeaderSize-fold-content"><a href="../../../use/internal/runtime/gc..MallocHeaderSize.html">const</a> <a href="../../../src/internal/runtime/gc/malloc.go.html#line-16">MallocHeaderSize</a> = 8</label><span id='MallocHeaderSize-fold-content-docs' class="fold-docs">
<span class="md-text">		A malloc header is functionally a single type pointer, but
		we need to use 8 here to ensure 8-byte alignment of allocations
		on 32-bit platforms. It's wasteful, but a lot of code relies on
		8-byte alignment for 8-byte atomics.</span>

</span></div><div class="anchor value-res" id="name-MaxObjsPerSpan">	<span class="nodocs"><a href="../../../use/internal/runtime/gc..MaxObjsPerSpan.html">const</a> <a href="../../../src/internal/runtime/gc/sizeclasses.go.html#line-92">MaxObjsPerSpan</a> = 1024</span></div><div class="anchor value-res" id="name-MaxSmallSize">	<span class="nodocs"><a href="../../../use/internal/runtime/gc..MaxSmallSize.html">const</a> <a href="../../../src/internal/runtime/gc/sizeclasses.go.html#line-86">MaxSmallSize</a> = 32768</span></div><div class="anchor value-res" id="name-MinHeapAlign">	<span class="nodocs"><a href="../../../use/internal/runtime/gc..MinHeapAlign.html">const</a> <a href="../../../src/internal/runtime/gc/sizeclasses.go.html#line-85">MinHeapAlign</a> = 8</span></div><div class="anchor value-res" id="name-MinSizeForMallocHeader">	<input type='checkbox' class="fold" id="MinSizeForMallocHeader-fold-content"><label for="MinSizeForMallocHeader-fold-content"><a href="../../../use/internal/runtime/gc..MinSizeForMallocHeader.html">const</a> <a href="../../../src/internal/runtime/gc/malloc.go.html#line-46">MinSizeForMallocHeader</a> = 512</label><span id='MinSizeForMallocHeader-fold-content-docs' class="fold-docs">
<span class="md-text">		The minimum object size that has a malloc header, exclusive.
		
		The size of this value controls overheads from the malloc header.
		The minimum size is bound by writeHeapBitsSmall, which assumes that the
		pointer bitmap for objects of a size smaller than this doesn't cross
		more than one pointer-word boundary. This sets an upper-bound on this
		value at the number of bits in a uintptr, multiplied by the pointer
		size in bytes.
		
		We choose a value here that has a natural cutover point in terms of memory
		overheads. This value just happens to be the maximum possible value this
		can be.
		
		A span with heap bits in it will have 128 bytes of heap bits on 64-bit
		platforms, and 256 bytes of heap bits on 32-bit platforms. The first size
		class where malloc headers match this overhead for 64-bit platforms is
		512 bytes (8 KiB / 512 bytes * 8 bytes-per-header = 128 bytes of overhead).
		On 32-bit platforms, this same point is the 256 byte size class
		(8 KiB / 256 bytes * 8 bytes-per-header = 256 bytes of overhead).
		
		Guaranteed to be exactly at a size class boundary. The reason this value is
		an exclusive minimum is subtle. Suppose we're allocating a 504-byte object
		and its rounded up to 512 bytes for the size class. If minSizeForMallocHeader
		is 512 and an inclusive minimum, then a comparison against minSizeForMallocHeader
		by the two values would produce different results. In other words, the comparison
		would not be invariant to size-class rounding. Eschewing this property means a
		more complex check or possibly storing additional state to determine whether a
		span has malloc headers.</span>

</span></div><div class="anchor value-res" id="name-NumSizeClasses">	<span class="nodocs"><a href="../../../use/internal/runtime/gc..NumSizeClasses.html">const</a> <a href="../../../src/internal/runtime/gc/sizeclasses.go.html#line-90">NumSizeClasses</a> = 68</span></div><div class="anchor value-res" id="name-PageShift">	<span class="nodocs"><a href="../../../use/internal/runtime/gc..PageShift.html">const</a> <a href="../../../src/internal/runtime/gc/sizeclasses.go.html#line-91">PageShift</a> = 13</span></div><div class="anchor value-res" id="name-PageSize">	<input type='checkbox' class="fold" id="PageSize-fold-content"><label for="PageSize-fold-content"><a href="../../../use/internal/runtime/gc..PageSize.html">const</a> <a href="../../../src/internal/runtime/gc/malloc.go.html#line-49">PageSize</a> = 8192</label><span id='PageSize-fold-content-docs' class="fold-docs">
<span class="md-text">		PageSize is the increment in which spans are managed.</span>

</span></div><div class="anchor value-res" id="name-SmallSizeDiv">	<span class="nodocs"><a href="../../../use/internal/runtime/gc..SmallSizeDiv.html">const</a> <a href="../../../src/internal/runtime/gc/sizeclasses.go.html#line-87">SmallSizeDiv</a> = 8</span></div><div class="anchor value-res" id="name-SmallSizeMax">	<span class="nodocs"><a href="../../../use/internal/runtime/gc..SmallSizeMax.html">const</a> <a href="../../../src/internal/runtime/gc/sizeclasses.go.html#line-88">SmallSizeMax</a> = 1024</span></div>	<input type='checkbox' class="showhide" id="unexported-constants-showhide"><i><label for="unexported-constants-showhide" class="show-inline">/* one unexported ... */</label><label for="unexported-constants-showhide" class="hide-inline">/* one unexported: */</label></i><div class="anchor value-res hidden" id="name-ptrBits"><i>	<span class="nodocs"><a href="../../../use/internal/runtime/gc..ptrBits^7b7ef.html">const</a> <a href="../../../src/internal/runtime/gc/malloc.go.html#line-10">ptrBits</a> = 64</span></i></div></div></code></pre><pre id="footer">
The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.7.6</i>. (GOOS=linux GOARCH=amd64)</pre>