<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: google.golang.org/grpc/internal/grpcsync</title>
<link href="../../../../css/auto-v0.7.6.css" rel="stylesheet">
<script src="../../../../jvs/golds-v0.7.6.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>grpcsync</b></span>

<span class="title">Import Path</span>
	<a href="../../../../index.html#pkg-google.golang.org/grpc/internal/grpcsync">google.golang.org/grpc/internal/grpcsync</a><i> (on <a href="https://pkg.go.dev/google.golang.org/grpc/internal/grpcsync" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../../../dep/google.golang.org/grpc/internal/grpcsync.html">4 packages</a>, and imported by <a href="../../../../dep/google.golang.org/grpc/internal/grpcsync.html#imported-by">2 packages</a>

<div id="files"><span class="title">Involved Source Files</span>

	<span class="nodocs">    <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/callback_serializer.go.html">callback_serializer.go</a></span>
	<input type='checkbox' checked class="fold" id="file-1-fold-content"><label for="file-1-fold-content">  <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/event.go.html#doc">d</a> <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/event.go.html">event.go</a></label><span id='file-1-fold-content-items' class="fold-items">
<span class="md-text">		Package grpcsync implements additional synchronization primitives built upon
		the sync package.</span>
</span>
	<span class="nodocs">    <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/pubsub.go.html">pubsub.go</a></span></div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 4, all are exported)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort exporteds by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-CallbackSerializer" data-popularity="275">	<input type='checkbox' class="fold" id="CallbackSerializer-fold-content"><label for="CallbackSerializer-fold-content"> <a href="../../../../use/google.golang.org/grpc/internal/grpcsync..CallbackSerializer.html">type</a> <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/callback_serializer.go.html#line-33">CallbackSerializer</a> <i>(struct)</i></label><span id='CallbackSerializer-fold-content-docs' class="fold-docs">
<span class="md-text">		CallbackSerializer provides a mechanism to schedule callbacks in a
		synchronized manner. It provides a FIFO guarantee on the order of execution
		of scheduled callbacks. New callbacks can be scheduled by invoking the
		Schedule() method.
		
		This type is safe for concurrent access.</span>

		<input type='checkbox' class="fold" id="CallbackSerializer-fold-fields"><label for="CallbackSerializer-fold-fields">Fields (<i>total 2, neither is exported</i>)</label><span id='CallbackSerializer-fold-fields-items' class="fold-items">
			<input type='checkbox' class="showhide" id="CallbackSerializer-showhide-fields"><i><label for="CallbackSerializer-showhide-fields" class="show-inline">/* 2 unexporteds ... */</label><label for="CallbackSerializer-showhide-fields" class="hide-inline">/* 2 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../src/google.golang.org/grpc/internal/grpcsync/callback_serializer.go.html#line-39">callbacks</a> <i>*<a href="buffer.html">buffer</a>.<a href="buffer.html#name-Unbounded">Unbounded</a></i></span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="CallbackSerializer-fold-field-done"><label for="CallbackSerializer-fold-field-done"><a href="../../../../src/google.golang.org/grpc/internal/grpcsync/callback_serializer.go.html#line-37">done</a> <i>chan struct{}</i></label><span id='CallbackSerializer-fold-field-done-docs' class="fold-docs">
<span class="md-text">				done is closed once the serializer is shut down completely, i.e all
				scheduled callbacks are executed and the serializer has deallocated all
				its resources.</span>
</span></i></span></span>
		<input type='checkbox' class="fold" id="CallbackSerializer-fold-methods"><label for="CallbackSerializer-fold-methods">Methods (<i>total 4, in which 3 are exported</i>)</label><span id='CallbackSerializer-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="CallbackSerializer-fold-method-Done"><label for="CallbackSerializer-fold-method-Done">(*CallbackSerializer) <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/callback_serializer.go.html#line-110">Done</a>() &lt;-chan struct{}</label><span id='CallbackSerializer-fold-method-Done-docs' class="fold-docs">
<span class="md-text">				Done returns a channel that is closed after the context passed to
				NewCallbackSerializer is canceled and all callbacks have been executed.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="CallbackSerializer-fold-method-ScheduleOr"><label for="CallbackSerializer-fold-method-ScheduleOr">(*CallbackSerializer) <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/callback_serializer.go.html#line-74">ScheduleOr</a>(f func(ctx <a href="../../../context.html">context</a>.<a href="../../../context.html#name-Context">Context</a>), onFailure func())</label><span id='CallbackSerializer-fold-method-ScheduleOr-docs' class="fold-docs">
<span class="md-text">				ScheduleOr schedules the provided callback function f to be executed in the
				order it was added. If the context passed to NewCallbackSerializer has been
				canceled before this method is called, the onFailure callback will be
				executed inline instead.
				
				Callbacks are expected to honor the context when performing any blocking
				operations, and should return early when the context is canceled.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="CallbackSerializer-fold-method-TrySchedule"><label for="CallbackSerializer-fold-method-TrySchedule">(*CallbackSerializer) <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/callback_serializer.go.html#line-63">TrySchedule</a>(f func(ctx <a href="../../../context.html">context</a>.<a href="../../../context.html#name-Context">Context</a>))</label><span id='CallbackSerializer-fold-method-TrySchedule-docs' class="fold-docs">
<span class="md-text">				TrySchedule tries to schedule the provided callback function f to be
				executed in the order it was added. This is a best-effort operation. If the
				context passed to NewCallbackSerializer was canceled before this method is
				called, the callback will not be scheduled.
				
				Callbacks are expected to honor the context when performing any blocking
				operations, and should return early when the context is canceled.</span>
</span></span>
			<input type='checkbox' class="showhide" id="CallbackSerializer-showhide-methods"><i><label for="CallbackSerializer-showhide-methods" class="show-inline">/* one unexported ... */</label><label for="CallbackSerializer-showhide-methods" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			<span class="nodocs">(*CallbackSerializer) <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/callback_serializer.go.html#line-80">run</a>(ctx <a href="../../../context.html">context</a>.<a href="../../../context.html#name-Context">Context</a>)</span></i></span></span>
		<input type='checkbox' class="fold" id="CallbackSerializer-fold-results"><label for="CallbackSerializer-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='CallbackSerializer-fold-results-items' class="fold-items"><span>
			func <a href="#name-NewCallbackSerializer">NewCallbackSerializer</a>(ctx <a href="../../../context.html">context</a>.<a href="../../../context.html#name-Context">Context</a>) *<b>CallbackSerializer</b></span></span>

</span></div><div class="anchor type-res" id="name-Event" data-popularity="225">	<input type='checkbox' class="fold" id="Event-fold-content"><label for="Event-fold-content"> <a href="../../../../use/google.golang.org/grpc/internal/grpcsync..Event.html">type</a> <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/event.go.html#line-28">Event</a> <i>(struct)</i></label><span id='Event-fold-content-docs' class="fold-docs">
<span class="md-text">		Event represents a one-time event that may occur in the future.</span>

		<input type='checkbox' class="fold" id="Event-fold-fields"><label for="Event-fold-fields">Fields (<i>total 2, neither is exported</i>)</label><span id='Event-fold-fields-items' class="fold-items">
			<input type='checkbox' class="showhide" id="Event-showhide-fields"><i><label for="Event-showhide-fields" class="show-inline">/* 2 unexporteds ... */</label><label for="Event-showhide-fields" class="hide-inline">/* 2 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../src/google.golang.org/grpc/internal/grpcsync/event.go.html#line-30">c</a> <i>chan struct{}</i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../src/google.golang.org/grpc/internal/grpcsync/event.go.html#line-29">fired</a> <i><a href="../../../sync/atomic.html">atomic</a>.<a href="../../../sync/atomic.html#name-Bool">Bool</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="Event-fold-methods"><label for="Event-fold-methods">Methods (<i>total 3, all are exported</i>)</label><span id='Event-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Event-fold-method-Done"><label for="Event-fold-method-Done">(*Event) <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/event.go.html#line-46">Done</a>() &lt;-chan struct{}</label><span id='Event-fold-method-Done-docs' class="fold-docs">
<span class="md-text">				Done returns a channel that will be closed when Fire is called.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Event-fold-method-Fire"><label for="Event-fold-method-Fire">(*Event) <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/event.go.html#line-37">Fire</a>() <a href="../../../builtin.html#name-bool">bool</a></label><span id='Event-fold-method-Fire-docs' class="fold-docs">
<span class="md-text">				Fire causes e to complete.  It is safe to call multiple times, and
				concurrently.  It returns true iff this call to Fire caused the signaling
				channel returned by Done to close. If Fire returns false, it is possible
				the Done channel has not been closed yet.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Event-fold-method-HasFired"><label for="Event-fold-method-HasFired">(*Event) <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/event.go.html#line-51">HasFired</a>() <a href="../../../builtin.html#name-bool">bool</a></label><span id='Event-fold-method-HasFired-docs' class="fold-docs">
<span class="md-text">				HasFired returns true if Fire has been called.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Event-fold-results"><label for="Event-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='Event-fold-results-items' class="fold-items"><span>
			func <a href="#name-NewEvent">NewEvent</a>() *<b>Event</b></span></span>

</span></div><div class="anchor type-res" id="name-PubSub" data-popularity="225">	<input type='checkbox' class="fold" id="PubSub-fold-content"><label for="PubSub-fold-content"> <a href="../../../../use/google.golang.org/grpc/internal/grpcsync..PubSub.html">type</a> <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/pubsub.go.html#line-46">PubSub</a> <i>(struct)</i></label><span id='PubSub-fold-content-docs' class="fold-docs">
<span class="md-text">		PubSub is a simple one-to-many publish-subscribe system that supports
		messages of arbitrary type. It guarantees that messages are delivered in
		the same order in which they were published.
		
		Publisher invokes the Publish() method to publish new messages, while
		subscribers interested in receiving these messages register a callback
		via the Subscribe() method.
		
		Once a PubSub is stopped, no more messages can be published, but any pending
		published messages will be delivered to the subscribers.  Done may be used
		to determine when all published messages have been delivered.</span>

		<input type='checkbox' class="fold" id="PubSub-fold-fields"><label for="PubSub-fold-fields">Fields (<i>total 4, none are exported</i>)</label><span id='PubSub-fold-fields-items' class="fold-items">
			<input type='checkbox' class="showhide" id="PubSub-showhide-fields"><i><label for="PubSub-showhide-fields" class="show-inline">/* 4 unexporteds ... */</label><label for="PubSub-showhide-fields" class="hide-inline">/* 4 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../src/google.golang.org/grpc/internal/grpcsync/pubsub.go.html#line-47">cs</a> <i>*<a href="#name-CallbackSerializer">CallbackSerializer</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../src/google.golang.org/grpc/internal/grpcsync/pubsub.go.html#line-51">msg</a> <i><a href="../../../builtin.html#name-any">any</a></i></span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="PubSub-fold-field-mu"><label for="PubSub-fold-field-mu"><a href="../../../../src/google.golang.org/grpc/internal/grpcsync/pubsub.go.html#line-50">mu</a> <i><a href="../../../sync.html">sync</a>.<a href="../../../sync.html#name-Mutex">Mutex</a></i></label><span id='PubSub-fold-field-mu-docs' class="fold-docs">
<span class="md-text">				Access to the below fields are guarded by this mutex.</span>
</span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../src/google.golang.org/grpc/internal/grpcsync/pubsub.go.html#line-52">subscribers</a> <i>map[<a href="#name-Subscriber">Subscriber</a>]<a href="../../../builtin.html#name-bool">bool</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="PubSub-fold-methods"><label for="PubSub-fold-methods">Methods (<i>total 3, all are exported</i>)</label><span id='PubSub-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="PubSub-fold-method-Done"><label for="PubSub-fold-method-Done">(*PubSub) <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/pubsub.go.html#line-119">Done</a>() &lt;-chan struct{}</label><span id='PubSub-fold-method-Done-docs' class="fold-docs">
<span class="md-text">				Done returns a channel that is closed after the context passed to NewPubSub
				is canceled and all updates have been sent to subscribers.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="PubSub-fold-method-Publish"><label for="PubSub-fold-method-Publish">(*PubSub) <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/pubsub.go.html#line-99">Publish</a>(msg <a href="../../../builtin.html#name-any">any</a>)</label><span id='PubSub-fold-method-Publish-docs' class="fold-docs">
<span class="md-text">				Publish publishes the provided message to the PubSub, and invokes
				callbacks registered by subscribers asynchronously.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="PubSub-fold-method-Subscribe"><label for="PubSub-fold-method-Subscribe">(*PubSub) <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/pubsub.go.html#line-72">Subscribe</a>(sub <a href="#name-Subscriber">Subscriber</a>) (cancel func())</label><span id='PubSub-fold-method-Subscribe-docs' class="fold-docs">
<span class="md-text">				Subscribe registers the provided Subscriber to the PubSub.
				
				If the PubSub contains a previously published message, the Subscriber's
				OnMessage() callback will be invoked asynchronously with the existing
				message to begin with, and subsequently for every newly published message.
				
				The caller is responsible for invoking the returned cancel function to
				unsubscribe itself from the PubSub.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="PubSub-fold-results"><label for="PubSub-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='PubSub-fold-results-items' class="fold-items"><span>
			func <a href="#name-NewPubSub">NewPubSub</a>(ctx <a href="../../../context.html">context</a>.<a href="../../../context.html#name-Context">Context</a>) *<b>PubSub</b></span></span>

</span></div><div class="anchor type-res" id="name-Subscriber" data-popularity="85">	<input type='checkbox' class="fold" id="Subscriber-fold-content"><label for="Subscriber-fold-content"> <a href="../../../../use/google.golang.org/grpc/internal/grpcsync..Subscriber.html">type</a> <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/pubsub.go.html#line-29">Subscriber</a> <b><i>(interface)</i></b></label><span id='Subscriber-fold-content-docs' class="fold-docs">
<span class="md-text">		Subscriber represents an entity that is subscribed to messages published on
		a PubSub. It wraps the callback to be invoked by the PubSub when a new
		message is published.</span>

		<input type='checkbox' class="fold" id="Subscriber-fold-methods"><label for="Subscriber-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='Subscriber-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Subscriber-fold-method-OnMessage"><label for="Subscriber-fold-method-OnMessage">( Subscriber) <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/pubsub.go.html#line-32">OnMessage</a>(msg <a href="../../../builtin.html#name-any">any</a>)</label><span id='Subscriber-fold-method-OnMessage-docs' class="fold-docs">
<span class="md-text">				OnMessage is invoked when a new message is published. Implementations
				must not block in this method.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Subscriber-fold-params"><label for="Subscriber-fold-params">As Inputs Of (<i>at least one exported</i>)</label><span id='Subscriber-fold-params-items' class="fold-items"><span>
			func (*<a href="#name-PubSub">PubSub</a>).<a href="../../../../src/google.golang.org/grpc/internal/grpcsync/pubsub.go.html#line-72">Subscribe</a>(sub <b>Subscriber</b>) (cancel func())</span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (total 3, all are exported)</i></span></span>

<div class="anchor value-res" id="name-NewCallbackSerializer">	<input type='checkbox' class="fold" id="NewCallbackSerializer-fold-content"><label for="NewCallbackSerializer-fold-content"> <a href="../../../../use/google.golang.org/grpc/internal/grpcsync..NewCallbackSerializer.html">func</a> <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/callback_serializer.go.html#line-47">NewCallbackSerializer</a>(ctx <a href="../../../context.html">context</a>.<a href="../../../context.html#name-Context">Context</a>) *<a href="#name-CallbackSerializer">CallbackSerializer</a></label><span id='NewCallbackSerializer-fold-content-docs' class="fold-docs">
<span class="md-text">		NewCallbackSerializer returns a new CallbackSerializer instance. The provided
		context will be passed to the scheduled callbacks. Users should cancel the
		provided context to shutdown the CallbackSerializer. It is guaranteed that no
		callbacks will be added once this context is canceled, and any pending un-run
		callbacks will be executed before the serializer is shut down.</span>

</span></div><div class="anchor value-res" id="name-NewEvent">	<input type='checkbox' class="fold" id="NewEvent-fold-content"><label for="NewEvent-fold-content"> <a href="../../../../use/google.golang.org/grpc/internal/grpcsync..NewEvent.html">func</a> <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/event.go.html#line-56">NewEvent</a>() *<a href="#name-Event">Event</a></label><span id='NewEvent-fold-content-docs' class="fold-docs">
<span class="md-text">		NewEvent returns a new, ready-to-use Event.</span>

</span></div><div class="anchor value-res" id="name-NewPubSub">	<input type='checkbox' class="fold" id="NewPubSub-fold-content"><label for="NewPubSub-fold-content"> <a href="../../../../use/google.golang.org/grpc/internal/grpcsync..NewPubSub.html">func</a> <a href="../../../../src/google.golang.org/grpc/internal/grpcsync/pubsub.go.html#line-57">NewPubSub</a>(ctx <a href="../../../context.html">context</a>.<a href="../../../context.html#name-Context">Context</a>) *<a href="#name-PubSub">PubSub</a></label><span id='NewPubSub-fold-content-docs' class="fold-docs">
<span class="md-text">		NewPubSub returns a new PubSub instance.  Users should cancel the
		provided context to shutdown the PubSub.</span>

</span></div></div></code></pre><pre id="footer">
The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.7.6</i>. (GOOS=linux GOARCH=amd64)</pre>