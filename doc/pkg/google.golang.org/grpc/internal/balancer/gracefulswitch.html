<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: google.golang.org/grpc/internal/balancer/gracefulswitch</title>
<link href="../../../../../css/auto-v0.7.6.css" rel="stylesheet">
<script src="../../../../../jvs/golds-v0.7.6.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>gracefulswitch</b></span>

<span class="title">Import Path</span>
	<a href="../../../../../index.html#pkg-google.golang.org/grpc/internal/balancer/gracefulswitch">google.golang.org/grpc/internal/balancer/gracefulswitch</a><i> (on <a href="https://pkg.go.dev/google.golang.org/grpc/internal/balancer/gracefulswitch" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../../../../dep/google.golang.org/grpc/internal/balancer/gracefulswitch.html">9 packages</a>, and imported by <a href="../../../../../dep/google.golang.org/grpc/internal/balancer/gracefulswitch.html#imported-by">one package</a>

<div id="files"><span class="title">Involved Source Files</span>

	<span class="nodocs">    <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/config.go.html">config.go</a></span>
	<input type='checkbox' checked class="fold" id="file-1-fold-content"><label for="file-1-fold-content">  <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#doc">d</a> <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html">gracefulswitch.go</a></label><span id='file-1-fold-content-items' class="fold-items">
<span class="md-text">		Package gracefulswitch implements a graceful switch load balancer.</span></span></div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 3, in which 1 is exported)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort exporteds by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-Balancer" data-popularity="775">	<input type='checkbox' class="fold" id="Balancer-fold-content"><label for="Balancer-fold-content"> <a href="../../../../../use/google.golang.org/grpc/internal/balancer/gracefulswitch..Balancer.html">type</a> <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-46">Balancer</a> <i>(struct)</i></label><span id='Balancer-fold-content-docs' class="fold-docs">
<span class="md-text">		Balancer is a utility to gracefully switch from one balancer to
		a new balancer. It implements the balancer.Balancer interface.</span>

		<input type='checkbox' class="fold" id="Balancer-fold-fields"><label for="Balancer-fold-fields">Fields (<i>total 7, none are exported</i>)</label><span id='Balancer-fold-fields-items' class="fold-items">
			<input type='checkbox' class="showhide" id="Balancer-showhide-fields"><i><label for="Balancer-showhide-fields" class="show-inline">/* 7 unexporteds ... */</label><label for="Balancer-showhide-fields" class="hide-inline">/* 7 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-47">bOpts</a> <i><a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-BuildOptions">BuildOptions</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-60">balancerCurrent</a> <i>*<a href="#name-balancerWrapper">balancerWrapper</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-61">balancerPending</a> <i>*<a href="#name-balancerWrapper">balancerWrapper</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-48">cc</a> <i><a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-ClientConn">ClientConn</a></i></span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Balancer-fold-field-closed"><label for="Balancer-fold-field-closed"><a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-62">closed</a> <i><a href="../../../../builtin.html#name-bool">bool</a></i></label><span id='Balancer-fold-field-closed-docs' class="fold-docs">
<span class="md-text">				// set to true when this balancer is closed</span>
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Balancer-fold-field-currentMu"><label for="Balancer-fold-field-currentMu"><a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-69">currentMu</a> <i><a href="../../../../sync.html">sync</a>.<a href="../../../../sync.html#name-Mutex">Mutex</a></i></label><span id='Balancer-fold-field-currentMu-docs' class="fold-docs">
<span class="md-text">				currentMu must be locked before mu. This mutex guards against this
				sequence of events: UpdateSubConnState() called, finds the
				balancerCurrent, gives up lock, updateState comes in, causes Close() on
				balancerCurrent before the UpdateSubConnState is called on the
				balancerCurrent.</span>
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Balancer-fold-field-mu"><label for="Balancer-fold-field-mu"><a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-59">mu</a> <i><a href="../../../../sync.html">sync</a>.<a href="../../../../sync.html#name-Mutex">Mutex</a></i></label><span id='Balancer-fold-field-mu-docs' class="fold-docs">
<span class="md-text">				mu protects the following fields and all fields within balancerCurrent
				and balancerPending. mu does not need to be held when calling into the
				child balancers, as all calls into these children happen only as a direct
				result of a call into the gracefulSwitchBalancer, which are also
				guaranteed to be synchronous. There is one exception: an UpdateState call
				from a child balancer when current and pending are populated can lead to
				calling Close() on the current. To prevent that racing with an
				UpdateSubConnState from the channel, we hold currentMu during Close and
				UpdateSubConnState calls.</span>
</span></i></span></span>
		<input type='checkbox' class="fold" id="Balancer-fold-methods"><label for="Balancer-fold-methods">Methods (<i>total 11, in which 6 are exported</i>)</label><span id='Balancer-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Balancer-fold-method-Close"><label for="Balancer-fold-method-Close">(*Balancer) <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-266">Close</a>()</label><span id='Balancer-fold-method-Close-docs' class="fold-docs">
<span class="md-text">				Close closes any active child balancers.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Balancer-fold-method-ExitIdle"><label for="Balancer-fold-method-ExitIdle">(*Balancer) <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-218">ExitIdle</a>()</label><span id='Balancer-fold-method-ExitIdle-docs' class="fold-docs">
<span class="md-text">				ExitIdle forwards the call to the latest balancer created.
				
				If the latest balancer does not support ExitIdle, the subConns are
				re-connected to manually.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Balancer-fold-method-ResolverError"><label for="Balancer-fold-method-ResolverError">(*Balancer) <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-198">ResolverError</a>(err <a href="../../../../builtin.html#name-error">error</a>)</label><span id='Balancer-fold-method-ResolverError-docs' class="fold-docs">
<span class="md-text">				ResolverError forwards the error to the latest balancer created.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Balancer-fold-method-SwitchTo"><label for="Balancer-fold-method-SwitchTo">(*Balancer) <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-100">SwitchTo</a>(builder <a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-Builder">Builder</a>) <a href="../../../../builtin.html#name-error">error</a></label><span id='Balancer-fold-method-SwitchTo-docs' class="fold-docs">
<span class="md-text">				SwitchTo initializes the graceful switch process, which completes based on
				connectivity state changes on the current/pending balancer. Thus, the switch
				process is not complete when this method returns. This method must be called
				synchronously alongside the rest of the balancer.Balancer methods this
				Graceful Switch Balancer implements.
				
				Deprecated: use ParseConfig and pass a parsed config to UpdateClientConnState
				to cause the Balancer to automatically change to the new child when necessary.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Balancer-fold-method-UpdateClientConnState"><label for="Balancer-fold-method-UpdateClientConnState">(*Balancer) <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-170">UpdateClientConnState</a>(state <a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-ClientConnState">ClientConnState</a>) <a href="../../../../builtin.html#name-error">error</a></label><span id='Balancer-fold-method-UpdateClientConnState-docs' class="fold-docs">
<span class="md-text">				UpdateClientConnState forwards the update to the latest balancer created.
				
				If the state's BalancerConfig is the config returned by a call to
				gracefulswitch.ParseConfig, then this function will automatically SwitchTo
				the balancer indicated by the config before forwarding its config to it, if
				necessary.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Balancer-fold-method-UpdateSubConnState"><label for="Balancer-fold-method-UpdateSubConnState">(*Balancer) <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-261">UpdateSubConnState</a>(sc <a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-SubConn">SubConn</a>, state <a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-SubConnState">SubConnState</a>)</label><span id='Balancer-fold-method-UpdateSubConnState-docs' class="fold-docs">
<span class="md-text">				UpdateSubConnState forwards the update to the appropriate child.</span>
</span></span>
			<input type='checkbox' class="showhide" id="Balancer-showhide-methods"><i><label for="Balancer-showhide-methods" class="show-inline">/* 5 unexporteds ... */</label><label for="Balancer-showhide-methods" class="hide-inline">/* 5 unexporteds: */</label></i><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Balancer-fold-method-balancerCurrentOrPending"><label for="Balancer-fold-method-balancerCurrentOrPending">(*Balancer) <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-88">balancerCurrentOrPending</a>(bw *<a href="#name-balancerWrapper">balancerWrapper</a>) <a href="../../../../builtin.html#name-bool">bool</a></label><span id='Balancer-fold-method-balancerCurrentOrPending-docs' class="fold-docs">
<span class="md-text">				Helper function that checks if the balancer passed in is current or pending.
				The caller must hold gsb.mu.</span>
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Balancer-fold-method-latestBalancer"><label for="Balancer-fold-method-latestBalancer">(*Balancer) <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-155">latestBalancer</a>() *<a href="#name-balancerWrapper">balancerWrapper</a></label><span id='Balancer-fold-method-latestBalancer-docs' class="fold-docs">
<span class="md-text">				Returns nil if the graceful switch balancer is closed.</span>
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Balancer-fold-method-swap"><label for="Balancer-fold-method-swap">(*Balancer) <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-74">swap</a>()</label><span id='Balancer-fold-method-swap-docs' class="fold-docs">
<span class="md-text">				swap swaps out the current lb with the pending lb and updates the ClientConn.
				The caller must hold gsb.mu.</span>
</span></i></span><span class="hidden"><i>
			<span class="nodocs">(*Balancer) <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-105">switchTo</a>(builder <a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-Builder">Builder</a>) (*<a href="#name-balancerWrapper">balancerWrapper</a>, <a href="../../../../builtin.html#name-error">error</a>)</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Balancer-fold-method-updateSubConnState"><label for="Balancer-fold-method-updateSubConnState">(*Balancer) <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-230">updateSubConnState</a>(sc <a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-SubConn">SubConn</a>, state <a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-SubConnState">SubConnState</a>, cb func(<a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-SubConnState">SubConnState</a>))</label><span id='Balancer-fold-method-updateSubConnState-docs' class="fold-docs">
<span class="md-text">				updateSubConnState forwards the update to the appropriate child.</span>
</span></i></span></span>
		<input type='checkbox' class="fold" id="Balancer-fold-impls"><label for="Balancer-fold-impls">Implements (<i>at least 3, all are exported</i>)</label><span id='Balancer-fold-impls-items' class="fold-items"><span>
			*Balancer : google.golang.org/grpc/balancer.<a href="../../balancer.html#name-Balancer">Balancer</a></span><span>
			*Balancer : google.golang.org/grpc/balancer.<a href="../../balancer.html#name-ExitIdler">ExitIdler</a></span><span>
			*Balancer : google.golang.org/grpc/balancer/endpointsharding.<a href="../../balancer/endpointsharding.html#name-ExitIdler">ExitIdler</a></span></span>
		<input type='checkbox' class="fold" id="Balancer-fold-results"><label for="Balancer-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='Balancer-fold-results-items' class="fold-items"><span>
			func <a href="#name-NewBalancer">NewBalancer</a>(cc <a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-ClientConn">ClientConn</a>, opts <a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-BuildOptions">BuildOptions</a>) *<b>Balancer</b></span></span>

</span></div></div><div>	<input type='checkbox' class="showhide" id="unexported-typenames-showhide"><i><label for="unexported-typenames-showhide" class="show-inline">/* 2 unexporteds ... */</label><label for="unexported-typenames-showhide" class="hide-inline">/* 2 unexporteds: */</label></i><div class="anchor type-res hidden" id="name-balancerWrapper" data-popularity="1135">	<input type='checkbox' class="fold" id="balancerWrapper-fold-content"><label for="balancerWrapper-fold-content"> <a href="../../../../../use/google.golang.org/grpc/internal/balancer/gracefulswitch..balancerWrapper^06db3.html">type</a> <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-288">balancerWrapper</a> <i>(struct)</i></label><span id='balancerWrapper-fold-content-docs' class="fold-docs">
<span class="md-text">		balancerWrapper wraps a balancer.Balancer, and overrides some Balancer
		methods to help cleanup SubConns created by the wrapped balancer.
		
		It implements the balancer.ClientConn interface and is passed down in that
		capacity to the wrapped balancer. It maintains a set of subConns created by
		the wrapped balancer and calls from the latter to create/update/shutdown
		SubConns update this set before being forwarded to the parent ClientConn.
		State updates from the wrapped balancer can result in invocation of the
		graceful switch logic.</span>

		<input type='checkbox' class="fold" id="balancerWrapper-fold-fields"><label for="balancerWrapper-fold-fields">Fields (<i>total 6, in which 2 are exported</i>)</label><span id='balancerWrapper-fold-fields-items' class="fold-items"><span>
			<span class="nodocs"><a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-290">Balancer</a> <i><a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-Balancer">Balancer</a></i></span></span><span>
			<span class="nodocs"><a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-289">ClientConn</a> <i><a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-ClientConn">ClientConn</a></i></span></span>
			<input type='checkbox' checked class="showhide" id="balancerWrapper-showhide-fields"><i><label for="balancerWrapper-showhide-fields" class="show-inline">/* 4 unexporteds ... */</label><label for="balancerWrapper-showhide-fields" class="hide-inline">/* 4 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-292">builder</a> <i><a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-Builder">Builder</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-291">gsb</a> <i>*<a href="#name-Balancer">Balancer</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-294">lastState</a> <i><a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-State">State</a></i></span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="balancerWrapper-fold-field-subconns"><label for="balancerWrapper-fold-field-subconns"><a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-295">subconns</a> <i>map[<a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-SubConn">SubConn</a>]<a href="../../../../builtin.html#name-bool">bool</a></i></label><span id='balancerWrapper-fold-field-subconns-docs' class="fold-docs">
<span class="md-text">				// subconns created by this balancer</span>
</span></i></span></span>
		<input type='checkbox' class="fold" id="balancerWrapper-fold-methods"><label for="balancerWrapper-fold-methods">Methods (<i>total 13, in which 12 are exported</i>)</label><span id='balancerWrapper-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="balancerWrapper-fold-method-Close"><label for="balancerWrapper-fold-method-Close">(*balancerWrapper) <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-302">Close</a>()</label><span id='balancerWrapper-fold-method-Close-docs' class="fold-docs">
<span class="md-text">				Close closes the underlying LB policy and shuts down the subconns it
				created. bw must not be referenced via balancerCurrent or balancerPending in
				gsb when called. gsb.mu must not be held.  Does not panic with a nil
				receiver.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="balancerWrapper-fold-method-ExitIdle"><label for="balancerWrapper-fold-method-ExitIdle">( balancerWrapper) <a href="../../../../../src/google.golang.org/grpc/balancer/balancer.go.html#line-366">ExitIdle</a>()</label><span id='balancerWrapper-fold-method-ExitIdle-docs' class="fold-docs">
<span class="md-text">				ExitIdle instructs the LB policy to reconnect to backends / exit the
				IDLE state, if appropriate and possible.  Note that SubConns that enter
				the IDLE state will not reconnect until SubConn.Connect is called.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="balancerWrapper-fold-method-MetricsRecorder"><label for="balancerWrapper-fold-method-MetricsRecorder">( balancerWrapper) <a href="../../../../../src/google.golang.org/grpc/balancer/balancer.go.html#line-182">MetricsRecorder</a>() <a href="../../experimental/stats.html">estats</a>.<a href="../../experimental/stats.html#name-MetricsRecorder">MetricsRecorder</a></label><span id='balancerWrapper-fold-method-MetricsRecorder-docs' class="fold-docs">
<span class="md-text">				MetricsRecorder provides the metrics recorder that balancers can use to
				record metrics. Balancer implementations which do not register metrics on
				metrics registry and record on them can ignore this method. The returned
				MetricsRecorder is guaranteed to never be nil.</span>
</span></span><span>
			<span class="nodocs">(*balancerWrapper) <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-360">NewSubConn</a>(addrs []<a href="../../resolver.html">resolver</a>.<a href="../../resolver.html#name-Address">Address</a>, opts <a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-NewSubConnOptions">NewSubConnOptions</a>) (<a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-SubConn">SubConn</a>, <a href="../../../../builtin.html#name-error">error</a>)</span></span><span>
			<span class="nodocs">(*balancerWrapper) <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-395">RemoveSubConn</a>(sc <a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-SubConn">SubConn</a>)</span></span><span>
			<span class="nodocs">(*balancerWrapper) <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-386">ResolveNow</a>(opts <a href="../../resolver.html">resolver</a>.<a href="../../resolver.html#name-ResolveNowOptions">ResolveNowOptions</a>)</span></span><span>
			<input type='checkbox' class="fold" id="balancerWrapper-fold-method-ResolverError"><label for="balancerWrapper-fold-method-ResolverError">( balancerWrapper) <a href="../../../../../src/google.golang.org/grpc/balancer/balancer.go.html#line-352">ResolverError</a>(<a href="../../../../builtin.html#name-error">error</a>)</label><span id='balancerWrapper-fold-method-ResolverError-docs' class="fold-docs">
<span class="md-text">				ResolverError is called by gRPC when the name resolver reports an error.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="balancerWrapper-fold-method-Target"><label for="balancerWrapper-fold-method-Target">( balancerWrapper) <a href="../../../../../src/google.golang.org/grpc/balancer/balancer.go.html#line-176">Target</a>() <a href="../../../../builtin.html#name-string">string</a></label><span id='balancerWrapper-fold-method-Target-docs' class="fold-docs">
<span class="md-text">				Target returns the dial target for this ClientConn.
				
				Deprecated: Use the Target field in the BuildOptions instead.</span>
</span></span><span>
			<span class="nodocs">(*balancerWrapper) <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-401">UpdateAddresses</a>(sc <a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-SubConn">SubConn</a>, addrs []<a href="../../resolver.html">resolver</a>.<a href="../../resolver.html#name-Address">Address</a>)</span></span><span>
			<input type='checkbox' class="fold" id="balancerWrapper-fold-method-UpdateClientConnState"><label for="balancerWrapper-fold-method-UpdateClientConnState">( balancerWrapper) <a href="../../../../../src/google.golang.org/grpc/balancer/balancer.go.html#line-350">UpdateClientConnState</a>(<a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-ClientConnState">ClientConnState</a>) <a href="../../../../builtin.html#name-error">error</a></label><span id='balancerWrapper-fold-method-UpdateClientConnState-docs' class="fold-docs">
<span class="md-text">				UpdateClientConnState is called by gRPC when the state of the ClientConn
				changes.  If the error returned is ErrBadResolverState, the ClientConn
				will begin calling ResolveNow on the active name resolver with
				exponential backoff until a subsequent call to UpdateClientConnState
				returns a nil error.  Any other errors are currently ignored.</span>
</span></span><span>
			<span class="nodocs">(*balancerWrapper) <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-319">UpdateState</a>(state <a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-State">State</a>)</span></span><span>
			<input type='checkbox' class="fold" id="balancerWrapper-fold-method-UpdateSubConnState"><label for="balancerWrapper-fold-method-UpdateSubConnState">( balancerWrapper) <a href="../../../../../src/google.golang.org/grpc/balancer/balancer.go.html#line-358">UpdateSubConnState</a>(<a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-SubConn">SubConn</a>, <a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-SubConnState">SubConnState</a>)</label><span id='balancerWrapper-fold-method-UpdateSubConnState-docs' class="fold-docs">
<span class="md-text">				UpdateSubConnState is called by gRPC when the state of a SubConn
				changes.
				
				Deprecated: Use NewSubConnOptions.StateListener when creating the
				SubConn instead.</span>
</span></span>
			<input type='checkbox' checked class="showhide" id="balancerWrapper-showhide-methods"><i><label for="balancerWrapper-showhide-methods" class="show-inline">/* one unexported ... */</label><label for="balancerWrapper-showhide-methods" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			<span class="nodocs">( balancerWrapper) <a href="../../../../../src/google.golang.org/grpc/internal/internal.go.html#line-286">enforceClientConnEmbedding</a>()</span></i></span></span>
		<input type='checkbox' class="fold" id="balancerWrapper-fold-impls"><label for="balancerWrapper-fold-impls">Implements (<i>at least 6, all are exported</i>)</label><span id='balancerWrapper-fold-impls-items' class="fold-items"><span>
			 balancerWrapper : google.golang.org/grpc/internal.<a href="../../internal.html#name-EnforceClientConnEmbedding">EnforceClientConnEmbedding</a></span><span>
			*balancerWrapper : google.golang.org/grpc/balancer.<a href="../../balancer.html#name-Balancer">Balancer</a></span><span>
			*balancerWrapper : google.golang.org/grpc/balancer.<a href="../../balancer.html#name-ClientConn">ClientConn</a></span><span>
			 balancerWrapper : google.golang.org/grpc/balancer.<a href="../../balancer.html#name-ExitIdler">ExitIdler</a></span><span>
			 balancerWrapper : google.golang.org/grpc/balancer/endpointsharding.<a href="../../balancer/endpointsharding.html#name-ExitIdler">ExitIdler</a></span><span>
			*balancerWrapper : google.golang.org/grpc/resolver.<a href="../../resolver.html#name-Resolver">Resolver</a></span></span>
		<input type='checkbox' class="fold" id="balancerWrapper-fold-results"><label for="balancerWrapper-fold-results">As Outputs Of (<i>at least 2, neither is exported</i>)</label><span id='balancerWrapper-fold-results-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="balancerWrapper-showhide-inputofs"><i><label for="balancerWrapper-showhide-inputofs" class="show-inline">/* 2+ unexporteds ... */</label><label for="balancerWrapper-showhide-inputofs" class="hide-inline">/* 2+ unexporteds: */</label></i><span class="hidden"><i>
			func (*<a href="#name-Balancer">Balancer</a>).<a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-155">latestBalancer</a>() *<b>balancerWrapper</b></i></span><span class="hidden"><i>
			func (*<a href="#name-Balancer">Balancer</a>).<a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-105">switchTo</a>(builder <a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-Builder">Builder</a>) (*<b>balancerWrapper</b>, <a href="../../../../builtin.html#name-error">error</a>)</i></span></span>
		<input type='checkbox' class="fold" id="balancerWrapper-fold-params"><label for="balancerWrapper-fold-params">As Inputs Of (<i>at least one unexported</i>)</label><span id='balancerWrapper-fold-params-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="balancerWrapper-showhide-outputofs"><i><label for="balancerWrapper-showhide-outputofs" class="show-inline">/* at least one unexported ... */</label><label for="balancerWrapper-showhide-outputofs" class="hide-inline">/* at least one unexported: */</label></i><span class="hidden"><i>
			func (*<a href="#name-Balancer">Balancer</a>).<a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-88">balancerCurrentOrPending</a>(bw *<b>balancerWrapper</b>) <a href="../../../../builtin.html#name-bool">bool</a></i></span></span>

</span></div><div class="anchor type-res hidden" id="name-lbConfig" data-popularity="100">	<input type='checkbox' class="fold" id="lbConfig-fold-content"><label for="lbConfig-fold-content"> <a href="../../../../../use/google.golang.org/grpc/internal/balancer/gracefulswitch..lbConfig^648a5.html">type</a> <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/config.go.html#line-29">lbConfig</a> <i>(struct)</i></label><span id='lbConfig-fold-content-docs' class="fold-docs">

		<input type='checkbox' class="fold" id="lbConfig-fold-fields"><label for="lbConfig-fold-fields">Fields (<i>total 3, in which 1 is exported</i>)</label><span id='lbConfig-fold-fields-items' class="fold-items"><span>
			<span class="nodocs"><a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/config.go.html#line-30">LoadBalancingConfig</a> <i><a href="../../serviceconfig.html">serviceconfig</a>.<a href="../../serviceconfig.html#name-LoadBalancingConfig">LoadBalancingConfig</a></i></span></span>
			<input type='checkbox' checked class="showhide" id="lbConfig-showhide-fields"><i><label for="lbConfig-showhide-fields" class="show-inline">/* 2 unexporteds ... */</label><label for="lbConfig-showhide-fields" class="hide-inline">/* 2 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/config.go.html#line-32">childBuilder</a> <i><a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-Builder">Builder</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/config.go.html#line-33">childConfig</a> <i><a href="../../serviceconfig.html">serviceconfig</a>.<a href="../../serviceconfig.html#name-LoadBalancingConfig">LoadBalancingConfig</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="lbConfig-fold-methods"><label for="lbConfig-fold-methods">Methods (<i>only one, which is unexported</i>)</label><span id='lbConfig-fold-methods-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="lbConfig-showhide-methods"><i><label for="lbConfig-showhide-methods" class="show-inline">/* one unexported ... */</label><label for="lbConfig-showhide-methods" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			<span class="nodocs">( lbConfig) <a href="../../../../../src/google.golang.org/grpc/serviceconfig/serviceconfig.go.html#line-36">isLoadBalancingConfig</a>()</span></i></span></span>
		<input type='checkbox' class="fold" id="lbConfig-fold-impls"><label for="lbConfig-fold-impls">Implements (<i>at least one exported</i>)</label><span id='lbConfig-fold-impls-items' class="fold-items"><span>
			 lbConfig : google.golang.org/grpc/serviceconfig.<a href="../../serviceconfig.html#name-LoadBalancingConfig">LoadBalancingConfig</a></span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (total 3, all are exported)</i></span></span>

<div class="anchor value-res" id="name-ChildName">	<input type='checkbox' class="fold" id="ChildName-fold-content"><label for="ChildName-fold-content"> <a href="../../../../../use/google.golang.org/grpc/internal/balancer/gracefulswitch..ChildName.html">func</a> <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/config.go.html#line-38">ChildName</a>(l <a href="../../serviceconfig.html">serviceconfig</a>.<a href="../../serviceconfig.html#name-LoadBalancingConfig">LoadBalancingConfig</a>) <a href="../../../../builtin.html#name-string">string</a></label><span id='ChildName-fold-content-docs' class="fold-docs">
<span class="md-text">		ChildName returns the name of the child balancer of the gracefulswitch
		Balancer.</span>

</span></div><div class="anchor value-res" id="name-NewBalancer">	<input type='checkbox' class="fold" id="NewBalancer-fold-content"><label for="NewBalancer-fold-content"> <a href="../../../../../use/google.golang.org/grpc/internal/balancer/gracefulswitch..NewBalancer.html">func</a> <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-37">NewBalancer</a>(cc <a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-ClientConn">ClientConn</a>, opts <a href="../../balancer.html">balancer</a>.<a href="../../balancer.html#name-BuildOptions">BuildOptions</a>) *<a href="#name-Balancer">Balancer</a></label><span id='NewBalancer-fold-content-docs' class="fold-docs">
<span class="md-text">		NewBalancer returns a graceful switch Balancer.</span>

</span></div><div class="anchor value-res" id="name-ParseConfig">	<input type='checkbox' class="fold" id="ParseConfig-fold-content"><label for="ParseConfig-fold-content"> <a href="../../../../../use/google.golang.org/grpc/internal/balancer/gracefulswitch..ParseConfig.html">func</a> <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/config.go.html#line-49">ParseConfig</a>(cfg <a href="../../../../encoding/json.html">json</a>.<a href="../../../../encoding/json.html#name-RawMessage">RawMessage</a>) (<a href="../../serviceconfig.html">serviceconfig</a>.<a href="../../serviceconfig.html#name-LoadBalancingConfig">LoadBalancingConfig</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='ParseConfig-fold-content-docs' class="fold-docs">
<span class="md-text">		ParseConfig parses a child config list and returns a LB config for the
		gracefulswitch Balancer.
		
		cfg is expected to be a json.RawMessage containing a JSON array of LB policy
		names + configs as the format of the "loadBalancingConfig" field in
		ServiceConfig.  It returns a type that should be passed to
		UpdateClientConnState in the BalancerConfig field.</span>

</span></div></div>
<div id="exported-variables"><span class="title">Package-Level Variables<span class="title-stat"><i> (only one, which is unexported)</i></span></span>

	<input type='checkbox' class="showhide" id="unexported-variables-showhide"><i><label for="unexported-variables-showhide" class="show-inline">/* one unexported ... */</label><label for="unexported-variables-showhide" class="hide-inline">/* one unexported: */</label></i><div class="anchor value-res hidden" id="name-errBalancerClosed"><i>	<span class="nodocs">  <a href="../../../../../use/google.golang.org/grpc/internal/balancer/gracefulswitch..errBalancerClosed^229ed.html">var</a> <a href="../../../../../src/google.golang.org/grpc/internal/balancer/gracefulswitch/gracefulswitch.go.html#line-33">errBalancerClosed</a> <a href="../../../../builtin.html#name-error">error</a></span></i></div></div></code></pre><pre id="footer">
The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.7.6</i>. (GOOS=linux GOARCH=amd64)</pre>